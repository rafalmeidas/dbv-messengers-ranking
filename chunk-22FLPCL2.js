import{b as u,c as T,d as N,e as A,f as D,h as v,j as F,k as G,l as V,o as L}from"./chunk-JM4JEJPP.js";import{a as k}from"./chunk-K6XW2OCE.js";import{F as l,H as m,I as s,L as O,M as C,O as P,P as p,Q as x,R as i,S as a,Sa as E,T as y,V as c,W as f,Y as h,Z as _,a as b,ja as w,ka as I,na as S,z as M}from"./chunk-GU5RU5RK.js";var R={required:"Este campo \xE9 obrigat\xF3rio",email:"Email inv\xE1lido",minlength:"Deve ter no m\xEDnimo {0} caracteres",maxlength:"Deve ter no m\xE1ximo {0} caracteres",min:"O valor m\xEDnimo permitido \xE9 {0}",max:"O valor m\xE1ximo permitido \xE9 {0}",pattern:"Formato inv\xE1lido",nullValidator:"Valor inv\xE1lido",validators:"Valor inv\xE1lido"},g=class o{constructor(e){this.ngControl=e;this.ngControl!=null&&(this.ngControl.valueAccessor=this)}label;name;placeholder;disabled=!1;required=!1;errorMessages=b({},R);value="";focused=!1;touched=!1;get error(){let e=this.ngControl?.control;if(!e||!e.errors||!e.touched)return null;let n=Object.keys(e.errors)[0],t=e.errors[n],r=this.errorMessages[n]??R[n];switch(n){case"minlength":case"maxlength":return this.formatMessage(r,t.requiredLength);case"min":case"max":return this.formatMessage(r,t.min??t.max);default:return r??"Valor inv\xE1lido"}}formatMessage(e,...n){return e.replace(/{(\d+)}/g,(t,r)=>String(n[r]??t))}onChange=e=>{};onTouched=()=>{};writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}onInput(e){let t=e.target.value;this.value=t,this.onChange(t)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onTouched(),this.touched=!0}static \u0275fac=function(n){return new(n||o)(m(T,10))};static \u0275cmp=s({type:o,selectors:[["ng-component"]],inputs:{label:"label",name:"name",placeholder:"placeholder",disabled:"disabled",required:"required",errorMessages:"errorMessages"},decls:0,vars:0,template:function(n,t){},encapsulation:2})};function U(o,e){if(o&1&&(i(0,"label"),h(1),a()),o&2){let n=f();l(),_(n.label)}}function W(o,e){if(o&1&&(i(0,"span",4),h(1),a()),o&2){let n=f();l(),_(n.error)}}var d=class o extends g{type="text";static \u0275fac=(()=>{let e;return function(t){return(e||(e=M(o)))(t||o)}})();static \u0275cmp=s({type:o,selectors:[["app-input"]],inputs:{type:"type"},features:[O],decls:4,vars:15,consts:[[1,"input-wrapper"],[4,"ngIf"],[3,"input","focus","blur","type","value","disabled"],["class","error-text",4,"ngIf"],[1,"error-text"]],template:function(n,t){n&1&&(i(0,"div",0),C(1,U,2,1,"label",1),i(2,"input",2),c("input",function(K){return t.onInput(K)})("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()}),a(),C(3,W,2,1,"span",3),a()),n&2&&(x("focused",t.focused)("filled",t.value)("disabled",t.disabled)("error",t.error),l(),p("ngIf",t.label),l(),p("type",t.type)("value",t.value)("disabled",t.disabled),P("placeholder",t.placeholder)("name",t.name),l(),p("ngIf",t.error))},dependencies:[I,w],styles:["[_nghost-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;font-family:inherit}[_nghost-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-low)}[_nghost-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid var(--color-outline-variant);border-radius:8px;background-color:var(--theme-surface);color:var(--color-text-high);font-size:1rem;transition:border-color .2s,box-shadow .2s}[_nghost-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{border-color:var(--color-outline)}[_nghost-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary);box-shadow:0 0 0 2px color-mix(in srgb,var(--color-primary),transparent 80%);outline:none}[_nghost-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active{border-color:var(--color-pressed)}[_nghost-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:var(--theme-surface);color:var(--color-text-lowest);border-color:var(--color-outline-variant);cursor:not-allowed}[_nghost-%COMP%]   .input-wrapper.focused[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:var(--color-primary)}[_nghost-%COMP%]   .input-wrapper.disabled[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--color-text-lowest)}[_nghost-%COMP%]   .input-wrapper.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:var(--color-error)}[_nghost-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-error)}"]})};var j=class o{constructor(e,n){this.authService=e;this.router=n}formGroup=new D({email:new v("",[u.required,u.email]),password:new v("",[u.required,u.minLength(5)])});get email(){return this.formGroup.get("email")?.value}get password(){return this.formGroup.get("password")?.value}login(){this.authService.login(this.email,this.password).then(()=>this.router.navigateByUrl("/home")).catch(e=>alert("Erro: "+e.message))}loginWithGoogle(){this.authService.loginWithGoogle().then(()=>this.router.navigateByUrl("/home")).catch(e=>alert("Erro: "+e.message))}navigateToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(n){return new(n||o)(m(E),m(S))};static \u0275cmp=s({type:o,selectors:[["app-login"]],decls:8,vars:1,consts:[[1,"login"],[3,"ngSubmit","formGroup"],["label","E-mail","formControlName","email","name","email","type","email","placeholder","Email"],["label","Senha","formControlName","password","name","password","type","password","placeholder","Senha"],["type","submit","label","Entrar"],["variant","outline","label","Login com Google",3,"onClick"],["variant","text","label","Registre-se",3,"onClick"]],template:function(n,t){n&1&&(i(0,"section",0)(1,"form",1),c("ngSubmit",function(){return t.login()}),y(2,"app-input",2)(3,"app-input",3)(4,"app-button",4),a(),i(5,"article")(6,"app-button",5),c("onClick",function(){return t.loginWithGoogle()}),a(),i(7,"app-button",6),c("onClick",function(){return t.navigateToRegister()}),a()()()),n&2&&(l(),p("formGroup",t.formGroup))},dependencies:[L,F,N,A,G,V,k,d],styles:["[_nghost-%COMP%]   .login[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}[_nghost-%COMP%]   .login[_ngcontent-%COMP%] > form[_ngcontent-%COMP%], [_nghost-%COMP%]   .login[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{padding:16px;border-radius:16px;width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .login[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{gap:16px;background:var(--theme-surface);border:1px solid var(--color-outline)}[_nghost-%COMP%]   .login[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{gap:8px}@media screen and (min-width: 768px){[_nghost-%COMP%]   .login[_ngcontent-%COMP%] > form[_ngcontent-%COMP%], [_nghost-%COMP%]   .login[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .login[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{gap:8px}}@media screen and (min-width: 1024px){[_nghost-%COMP%]   .login[_ngcontent-%COMP%] > form[_ngcontent-%COMP%], [_nghost-%COMP%]   .login[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{width:700px}}"]})};export{j as LoginComponent};

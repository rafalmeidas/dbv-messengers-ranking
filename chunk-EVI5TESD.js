import{a as O}from"./chunk-DOF7J37M.js";import{a as p}from"./chunk-F4MUXNYO.js";import{a as R}from"./chunk-OAC7PAHN.js";import{a as D}from"./chunk-E6ZAZPZW.js";import"./chunk-7Y7RURYF.js";import{a as P}from"./chunk-FPHSLIA5.js";import"./chunk-6H5SRDA6.js";import{c as u,e as T,f as M,j as U,l as N,m as F,r as E,t as x}from"./chunk-ICHD4X5G.js";import{a as S}from"./chunk-TCTIQOOR.js";import{L as g,N as y,R as _}from"./chunk-6C2OLKOO.js";import{$a as a,$b as C,Ha as l,Qa as s,aa as t,cb as c,db as b,eb as m,f,jb as z,sb as v,tb as h}from"./chunk-R5GXIUDZ.js";var d=class o{_trailblazerService=t(p);trailblazers=[];constructor(){this._trailblazerService.getAllTrailblazers().subscribe(r=>this.trailblazers=r)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=s({type:o,selectors:[["app-trailblazer-list"]],decls:1,vars:2,consts:[["btnNewUrl","/trailblazer/create","btnEditUrl","/trailblazer/edit",3,"title","listArray"]],template:function(e,i){e&1&&m(0,"app-list",0),e&2&&a("title","Desbravadores")("listArray",i.trailblazers)},dependencies:[P],encapsulation:2})};var n=class o{_fb=t(E);_trailblazerService=t(p);_unitService=t(R);_route=t(g);_router=t(y);form=this._fb.group({name:["",u.required],unitUid:["",u.required]});isEditMode=!1;trailblazerUid=null;units=[];constructor(){this._unitService.getAllUnits().subscribe(r=>this.units=r),this._route.paramMap.subscribe(r=>{this.trailblazerUid=r.get("id"),this.isEditMode=!!this.trailblazerUid,this.trailblazerUid&&this._trailblazerService.getTrailblazerById(this.trailblazerUid).subscribe(e=>{e&&this.form.patchValue(e)})})}submit(){return f(this,null,function*(){this.form.invalid||(this.isEditMode&&this.trailblazerUid?yield this._trailblazerService.updateTrailblazer(this.trailblazerUid,this.form.value):yield this._trailblazerService.createTrailblazer(this.form.value),this._router.navigate(["/trailblazer"]))})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=s({type:o,selectors:[["app-trailblazer-form"]],decls:6,vars:4,consts:[[3,"ngSubmit","formGroup"],["label","Nome","formControlName","name","name","name","placeholder","Nome"],["label","Selecione a unidade","formControlName","unitUid","name","unitUid","placeholder","Selecione a unidade","labelKey","name","valueKey","id",3,"options"],["type","submit","label","Salvar",3,"disabled"]],template:function(e,i){e&1&&(c(0,"h1"),v(1),b(),c(2,"form",0),z("ngSubmit",function(){return i.submit()}),m(3,"app-input",1)(4,"app-select",2)(5,"app-button",3),b()),e&2&&(l(),h(i.isEditMode?"Editar desbravador":"Criar desbravador"),l(),a("formGroup",i.form),l(2),a("options",i.units),l(),a("disabled",i.form.invalid))},dependencies:[x,U,T,M,N,F,S,O,D,C,_],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{color:var(--color-text-high)}[_nghost-%COMP%] > form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}"]})};var ae=[{path:"",component:d},{path:"create",component:n},{path:"edit/:id",component:n}];export{ae as ROUTES};

import{$ as D,$a as ha,A as xn,Aa as wi,B as U,Ba as ra,Bb as Ri,C as Vt,Ca as Ii,Cb as Et,D as Wo,Da as ia,Db as _a,E as fi,Ea as Ht,Eb as Da,Fb as wa,G as Ce,Ga as sa,Gb as Wt,H as Ge,I as qe,Ia as Je,J as pi,Ja as Si,Jb as Ia,K as pt,Ka as oa,L as $n,La as Xe,M as be,Ma as T,N as gi,Na as aa,O as Go,Oa as zt,P as qo,Pa as ca,Q as Ko,Qa as jn,R as Z,Ra as ua,S as Yo,Sa as yt,T as M,Ta as oe,U as b,W as _,Wa as la,X as gt,Xa as Ci,Y as Zo,Ya as bi,Z as I,Za as Ai,_ as mi,_a as da,a as p,aa as h,b as O,ba as Ke,ca as mt,da as Jo,e as ze,ea as Ae,f as l,fa as x,fb as fa,g as $o,ga as Xo,h as Bo,ha as vt,hb as pa,i as We,j as ui,k as li,ka as vi,l as Y,la as yi,lb as ga,m as G,ma as J,mb as ma,n as jo,na as Ei,nb as va,o as Vo,oa as Qo,p as ge,pa as Bn,q as Un,qa as Ye,r as di,ra as L,s as hi,sa as _i,t as N,ta as ea,u as g,ua as Ze,v as jt,w as Ho,wa as ta,x as zo,xa as Di,xb as Ti,ya as na,yb as ya,z as C,za as Te,zb as Ea}from"./chunk-ZOQ26LPS.js";var P=new I("");var ba=null;function me(){return ba}function Oi(n){ba??=n}var Gt=class{},qt=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:()=>h(Aa),providedIn:"platform"})}return n})(),Pi=new I(""),Aa=(()=>{class n extends qt{_location;_history;_doc=h(P);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return me().getBaseHref(this._doc)}onPopState(e){let r=me().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=me().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Vn(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function Sa(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function X(n){return n&&n[0]!=="?"?`?${n}`:n}var Q=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:()=>h(zn),providedIn:"root"})}return n})(),Hn=new I(""),zn=(()=>{class n extends Q{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??h(P).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Vn(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+X(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+X(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+X(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(D(qt),D(Hn,8))};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Re=(()=>{class n{_subject=new Y;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=Tl(Sa(Ca(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+X(r))}normalize(e){return n.stripTrailingSlash(Al(this._basePath,Ca(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+X(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+X(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=X;static joinWithSlash=Vn;static stripTrailingSlash=Sa;static \u0275fac=function(r){return new(r||n)(D(Q))};static \u0275prov=_({token:n,factory:()=>bl(),providedIn:"root"})}return n})();function bl(){return new Re(D(Q))}function Al(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Ca(n){return n.replace(/\/index.html$/,"")}function Tl(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Ni=(()=>{class n extends Q{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Vn(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+X(s))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+X(s))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(D(qt),D(Hn,8))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})();var ki=/\s+/,Ta=[],Ol=(()=>{class n{_ngEl;_renderer;initialClasses=Ta;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(ki):Ta}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(ki):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(ki).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(T(Ze),T(Xe))};static \u0275dir=oe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Wn=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pa=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wn(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),Ra(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Ra(s,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(T(zt),T(Si),T(_a))};static \u0275dir=oe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Ra(n,t){n.context.$implicit=t.item}var Pl=(()=>{class n{_viewContainer;_context=new Gn;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Oa(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Oa(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(T(zt),T(Si))};static \u0275dir=oe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Gn=class{$implicit=null;ngIf=null};function Oa(n,t){if(n&&!n.createEmbeddedView)throw new b(2020,!1)}var kl=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,s]=e.split("."),o=i.indexOf("-")===-1?void 0:Je.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(T(Ze),T(Da),T(Xe))};static \u0275dir=oe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();var ka=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yt({type:n});static \u0275inj=gt({})}return n})();function Mi(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,s]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}var Li="browser",Na="server";function qn(n){return n===Na}var Kt=class{};var Ma=(()=>{class n{static \u0275prov=_({token:n,providedIn:"root",factory:()=>new Fi(h(P),window)})}return n})(),Fi=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=Nl(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Nl(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}var Zn=new I(""),Bi=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,s){return this._findPluginFor(r).addEventListener(e,r,i,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(D(Zn),D(L))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),Yt=class{_doc;constructor(t){this._doc=t}manager},Kn="ng-app-id";function La(n){for(let t of n)t.remove()}function Fa(n,t){let e=t.createElement("style");return e.textContent=n,e}function Ll(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Kn}="${t}"],link[${Kn}="${t}"]`);if(i)for(let s of i)s.removeAttribute(Kn),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function xi(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var ji=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=qn(s),Ll(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,Fa);r?.forEach(i=>this.addUsage(i,this.external,xi))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let s=r.get(e);s?s.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(La(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])La(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,Fa(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,xi(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Kn,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(D(P),D(Di),D(wi,8),D(Te))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),Ui={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vi=/%COMP%/g;var xa="%COMP%",Fl=`_nghost-${xa}`,Ul=`_ngcontent-${xa}`,xl=!0,$l=new I("",{providedIn:"root",factory:()=>xl});function Bl(n){return Ul.replace(Vi,n)}function jl(n){return Fl.replace(Vi,n)}function $a(n,t){return t.map(e=>e.replace(Vi,n))}var Hi=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,s,o,a,c,u=null,d=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=qn(a),this.defaultRenderer=new Zt(e,o,c,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ht.ShadowDom&&(r=O(p({},r),{encapsulation:Ht.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Yn?i.applyToHost(e):i instanceof Jt&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Ht.Emulated:s=new Yn(c,u,r,this.appId,d,o,a,f,v);break;case Ht.ShadowDom:return new $i(c,u,e,r,o,a,this.nonce,f,v);default:s=new Jt(c,u,r,d,o,a,f,v);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(D(Bi),D(ji),D(Di),D($l),D(P),D(Te),D(L),D(wi),D(ra,8))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),Zt=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,s){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Ui[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Ua(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Ua(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new b(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let s=Ui[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=Ui[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Je.DashCase|Je.Important)?t.style.setProperty(e,r,i&Je.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Je.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=me().getGlobalEventTarget(this.doc,t),!t))throw new b(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Ua(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var $i=class extends Zt{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,s,o,a,c,u){super(t,s,o,c,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=$a(i.id,d);for(let v of d){let E=document.createElement("style");a&&E.setAttribute("nonce",a),E.textContent=v,this.shadowRoot.appendChild(E)}let f=i.getExternalStyles?.();if(f)for(let v of f){let E=xi(v,s);a&&E.setAttribute("nonce",a),this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jt=class extends Zt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,s,o,a,c,u){super(t,s,o,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?$a(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yn=class extends Jt{contentAttr;hostAttr;constructor(t,e,r,i,s,o,a,c,u){let d=i+"-"+r.id;super(t,e,r,s,o,a,c,u,d),this.contentAttr=Bl(d),this.hostAttr=jl(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var Jn=class n extends Gt{supportsDOMEvents=!0;static makeCurrent(){Oi(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Vl();return e==null?null:Hl(e)}resetBaseElement(){Xt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Mi(document.cookie,t)}},Xt=null;function Vl(){return Xt=Xt||document.querySelector("base"),Xt?Xt.getAttribute("href"):null}function Hl(n){return new URL(n,document.baseURI).pathname}var zl=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),ja=(()=>{class n extends Yt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,s){return e.addEventListener(r,i,s),()=>this.removeEventListener(e,r,i,s)}removeEventListener(e,r,i,s){return e.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(D(P))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),Ba=["alt","control","meta","shift"],Wl={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Va=(()=>{class n extends Yt{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>me().onAndCancel(e,o.domEventName,a,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Ba.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(e,r){let i=Wl[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Ba.forEach(o=>{if(o!==i){let a=Gl[o];a(e)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(D(P))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})();function ql(n,t){return wa(p({rootComponent:n},Kl(t)))}function Kl(n){return{appProviders:[...Ql,...n?.providers??[]],platformProviders:Xl}}function Yl(){Jn.makeCurrent()}function Zl(){return new _i}function Jl(){return ta(document),document}var Xl=[{provide:Te,useValue:Li},{provide:na,useValue:Yl,multi:!0},{provide:P,useFactory:Jl}];var Ql=[{provide:Jo,useValue:"root"},{provide:_i,useFactory:Zl},{provide:Zn,useClass:ja,multi:!0,deps:[P]},{provide:Zn,useClass:Va,multi:!0,deps:[P]},Hi,ji,Bi,{provide:oa,useExisting:Hi},{provide:Kt,useClass:zl},[]];var Ha=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(D(P))};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y="primary",hn=Symbol("RouteTitle"),Ki=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function nt(n){return new Ki(n)}function Ja(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function td(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ae(n[e],t[e]))return!1;return!0}function ae(n,t){let e=n?Yi(n):void 0,r=t?Yi(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!Xa(n[i],t[i]))return!1;return!0}function Yi(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Xa(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}else return n===t}function Qa(n){return n.length>0?n[n.length-1]:null}function Me(n){return Ho(n)?n:Ci(n)?N(Promise.resolve(n)):g(n)}var nd={exact:tc,subset:nc},ec={exact:rd,subset:id,ignored:()=>!0};function za(n,t,e){return nd[e.paths](n.root,t.root,e.matrixParams)&&ec[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function rd(n,t){return ae(n,t)}function tc(n,t,e){if(!et(n.segments,t.segments)||!er(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!tc(n.children[r],t.children[r],e))return!1;return!0}function id(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Xa(n[e],t[e]))}function nc(n,t,e){return rc(n,t,t.segments,e)}function rc(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!et(i,e)||t.hasChildren()||!er(i,e,r))}else if(n.segments.length===e.length){if(!et(n.segments,e)||!er(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!nc(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!et(n.segments,i)||!er(n.segments,i,r)||!n.children[y]?!1:rc(n.children[y],t,s,r)}}function er(n,t,e){return t.every((r,i)=>ec[e](n[i].parameters,r.parameters))}var ue=class{root;queryParams;fragment;_queryParamMap;constructor(t=new w([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=nt(this.queryParams),this._queryParamMap}toString(){return ad.serialize(this)}},w=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tr(this)}},Oe=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=nt(this.parameters),this._parameterMap}toString(){return sc(this)}};function sd(n,t){return et(n,t)&&n.every((e,r)=>ae(e.parameters,t[r].parameters))}function et(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function od(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===y&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==y&&(e=e.concat(t(i,r)))}),e}var rt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:()=>new Pe,providedIn:"root"})}return n})(),Pe=class{parse(t){let e=new Ji(t);return new ue(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Qt(t.root,!0)}`,r=ld(t.queryParams),i=typeof t.fragment=="string"?`#${cd(t.fragment)}`:"";return`${e}${r}${i}`}},ad=new Pe;function tr(n){return n.segments.map(t=>sc(t)).join("/")}function Qt(n,t){if(!n.hasChildren())return tr(n);if(t){let e=n.children[y]?Qt(n.children[y],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==y&&r.push(`${i}:${Qt(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=od(n,(r,i)=>i===y?[Qt(n.children[y],!1)]:[`${i}:${Qt(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[y]!=null?`${tr(n)}/${e[0]}`:`${tr(n)}/(${e.join("//")})`}}function ic(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xn(n){return ic(n).replace(/%3B/gi,";")}function cd(n){return encodeURI(n)}function Zi(n){return ic(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nr(n){return decodeURIComponent(n)}function Wa(n){return nr(n.replace(/\+/g,"%20"))}function sc(n){return`${Zi(n.path)}${ud(n.parameters)}`}function ud(n){return Object.entries(n).map(([t,e])=>`;${Zi(t)}=${Zi(e)}`).join("")}function ld(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Xn(e)}=${Xn(i)}`).join("&"):`${Xn(e)}=${Xn(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var dd=/^[^\/()?;#]+/;function zi(n){let t=n.match(dd);return t?t[0]:""}var hd=/^[^\/()?;=#]+/;function fd(n){let t=n.match(hd);return t?t[0]:""}var pd=/^[^=?&#]+/;function gd(n){let t=n.match(pd);return t?t[0]:""}var md=/^[^&#]+/;function vd(n){let t=n.match(md);return t?t[0]:""}var Ji=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new w([],{}):new w([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[y]=new w(t,e)),r}parseSegment(){let t=zi(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(t),new Oe(nr(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=fd(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=zi(this.remaining);i&&(r=i,this.capture(r))}t[nr(e)]=nr(r)}parseQueryParam(t){let e=gd(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=vd(this.remaining);o&&(r=o,this.capture(r))}let i=Wa(e),s=Wa(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zi(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=y);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[y]:new w([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new b(4011,!1)}};function oc(n){return n.segments.length>0?new w([],{[y]:n}):n}function ac(n){let t={};for(let[r,i]of Object.entries(n.children)){let s=ac(i);if(r===y&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}let e=new w(n.segments,t);return yd(e)}function yd(n){if(n.numberOfChildren===1&&n.children[y]){let t=n.children[y];return new w(n.segments.concat(t.segments),t.children)}return n}function ke(n){return n instanceof ue}function cc(n,t,e=null,r=null){let i=uc(n);return lc(i,t,e,r)}function uc(n){let t;function e(s){let o={};for(let c of s.children){let u=e(c);o[c.outlet]=u}let a=new w(s.url,o);return s===n&&(t=a),a}let r=e(n.root),i=oc(r);return t??i}function lc(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return Wi(i,i,i,e,r);let s=Ed(t);if(s.toRoot())return Wi(i,i,new w([],{}),e,r);let o=_d(s,i,n),a=o.processChildren?tn(o.segmentGroup,o.index,s.commands):hc(o.segmentGroup,o.index,s.commands);return Wi(i,o.segmentGroup,a,e,r)}function ir(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function rn(n){return typeof n=="object"&&n!=null&&n.outlets}function Wi(n,t,e,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===t?o=e:o=dc(n,t,e);let a=oc(ac(o));return new ue(a,s,i)}function dc(n,t,e){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===t?r[i]=e:r[i]=dc(s,t,e)}),new w(n.segments,r)}var sr=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&ir(r[0]))throw new b(4003,!1);let i=r.find(rn);if(i&&i!==Qa(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ed(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new sr(!0,0,n);let t=0,e=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new sr(e,t,r)}var wt=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function _d(n,t,e){if(n.isAbsolute)return new wt(t,!0,0);if(!e)return new wt(t,!1,NaN);if(e.parent===null)return new wt(e,!0,0);let r=ir(n.commands[0])?0:1,i=e.segments.length-1+r;return Dd(e,i,n.numberOfDoubleDots)}function Dd(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new wt(r,!1,i-s)}function wd(n){return rn(n[0])?n[0].outlets:{[y]:n}}function hc(n,t,e){if(n??=new w([],{}),n.segments.length===0&&n.hasChildren())return tn(n,t,e);let r=Id(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new w(n.segments.slice(0,r.pathIndex),{});return s.children[y]=new w(n.segments.slice(r.pathIndex),n.children),tn(s,0,i)}else return r.match&&i.length===0?new w(n.segments,{}):r.match&&!n.hasChildren()?Xi(n,t,e):r.match?tn(n,0,i):Xi(n,t,e)}function tn(n,t,e){if(e.length===0)return new w(n.segments,{});{let r=wd(e),i={};if(Object.keys(r).some(s=>s!==y)&&n.children[y]&&n.numberOfChildren===1&&n.children[y].segments.length===0){let s=tn(n.children[y],t,e);return new w(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=hc(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new w(n.segments,i)}}function Id(n,t,e){let r=0,i=t,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;let o=n.segments[i],a=e[r];if(rn(a))break;let c=`${a}`,u=r<e.length-1?e[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!qa(c,u,o))return s;r+=2}else{if(!qa(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xi(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let s=e[i];if(rn(s)){let c=Sd(s.outlets);return new w(r,c)}if(i===0&&ir(e[0])){let c=n.segments[t];r.push(new Oe(c.path,Ga(e[0]))),i++;continue}let o=rn(s)?s.outlets[y]:`${s}`,a=i<e.length-1?e[i+1]:null;o&&a&&ir(a)?(r.push(new Oe(o,Ga(a))),i+=2):(r.push(new Oe(o,{})),i++)}return new w(r,{})}function Sd(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=Xi(new w([],{}),0,r))}),t}function Ga(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function qa(n,t,e){return n==e.path&&ae(t,e.parameters)}var rr="imperative",R=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(R||{}),V=class{id;url;constructor(t,e){this.id=t,this.url=e}},Ne=class extends V{type=R.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},H=class extends V{urlAfterRedirects;type=R.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}($||{}),St=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(St||{}),ce=class extends V{reason;code;type=R.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},le=class extends V{reason;code;type=R.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},Ct=class extends V{error;target;type=R.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sn=class extends V{urlAfterRedirects;state;type=R.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},or=class extends V{urlAfterRedirects;state;type=R.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ar=class extends V{urlAfterRedirects;state;shouldActivate;type=R.GuardsCheckEnd;constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cr=class extends V{urlAfterRedirects;state;type=R.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ur=class extends V{urlAfterRedirects;state;type=R.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lr=class{route;type=R.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dr=class{route;type=R.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hr=class{snapshot;type=R.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fr=class{snapshot;type=R.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pr=class{snapshot;type=R.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gr=class{snapshot;type=R.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bt=class{routerEvent;position;anchor;type=R.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},on=class{},At=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Cd(n,t){return n.providers&&!n._injector&&(n._injector=jn(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ee(n){return n.outlet||y}function bd(n,t){let e=n.filter(r=>ee(r)===t);return e.push(...n.filter(r=>ee(r)!==t)),e}function fn(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var mr=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return fn(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new it(this.rootInjector)}},it=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new mr(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(D(Ae))};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vr=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Qi(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Qi(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=es(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return es(t,this._root).map(e=>e.value)}};function Qi(n,t){if(n===t.value)return t;for(let e of t.children){let r=Qi(n,e);if(r)return r}return null}function es(n,t){if(n===t.value)return[t];for(let e of t.children){let r=es(n,e);if(r.length)return r.unshift(t),r}return[]}var j=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Dt(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var an=class extends vr{snapshot;constructor(t,e){super(t),this.snapshot=e,cs(this,t)}toString(){return this.snapshot.toString()}};function fc(n){let t=Ad(n),e=new G([new Oe("",{})]),r=new G({}),i=new G({}),s=new G({}),o=new G(""),a=new de(e,r,s,o,i,y,n,t.root);return a.snapshot=t.root,new an(new j(a,[]),t)}function Ad(n){let t={},e={},r={},i="",s=new tt([],t,r,i,e,y,n,null,{});return new cn("",new j(s,[]))}var de=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,s,o,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(C(u=>u[hn]))??g(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(C(t=>nt(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(C(t=>nt(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yr(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:p(p({},t.params),n.params),data:p(p({},t.data),n.data),resolve:p(p(p(p({},n.data),t.data),i?.data),n._resolvedData)}:r={params:p({},n.params),data:p({},n.data),resolve:p(p({},n.data),n._resolvedData??{})},i&&gc(i)&&(r.resolve[hn]=i.title),r}var tt=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[hn]}constructor(t,e,r,i,s,o,a,c,u){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=nt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=nt(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},cn=class extends vr{url;constructor(t,e){super(e),this.url=t,cs(this,e)}toString(){return pc(this._root)}};function cs(n,t){t.value._routerState=n,t.children.forEach(e=>cs(n,e))}function pc(n){let t=n.children.length>0?` { ${n.children.map(pc).join(", ")} } `:"";return`${n.value}${t}`}function Gi(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ae(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),ae(t.params,e.params)||n.paramsSubject.next(e.params),td(t.url,e.url)||n.urlSubject.next(e.url),ae(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ts(n,t){let e=ae(n.params,t.params)&&sd(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||ts(n.parent,t.parent))}function gc(n){return typeof n.title=="string"||n.title===null}var mc=new I(""),us=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=y;activateEvents=new Ye;deactivateEvents=new Ye;attachEvents=new Ye;detachEvents=new Ye;routerOutletData=ea(void 0);parentContexts=h(it);location=h(zt);changeDetector=h(Et);inputBinder=h(pn,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=e;let i=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ns(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vt]})}return n})(),ns=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===de?this.route:t===it?this.childContexts:t===mc?this.outletData:this.parent.get(t,e)}},pn=new I(""),ls=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=xn([r.queryParams,r.params,r.data]).pipe(Z(([s,o,a],c)=>(a=p(p(p({},s),o),a),c===0?g(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let o=Ia(r.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})();function Td(n,t,e){let r=un(n,t._root,e?e._root:void 0);return new an(r,t)}function un(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=Rd(n,t,e);return new j(r,i)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>un(n,a)),o}}let r=Od(t.value),i=t.children.map(s=>un(n,s));return new j(r,i)}}function Rd(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return un(n,r,i);return un(n,r)})}function Od(n){return new de(new G(n.url),new G(n.params),new G(n.queryParams),new G(n.fragment),new G(n.data),n.outlet,n.component,n)}var Tt=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},vc="ngNavigationCancelingError";function Er(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=ke(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=yc(!1,$.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function yc(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[vc]=!0,e.cancellationCode=t,e}function Pd(n){return Ec(n)&&ke(n.url)}function Ec(n){return!!n&&n[vc]}var kd=(n,t,e,r)=>C(i=>(new rs(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),rs=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Gi(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Dt(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Dt(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Dt(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Dt(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new gr(s.value.snapshot))}),t.children.length&&this.forwardEvent(new fr(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(Gi(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gi(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,r)}},_r=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},It=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Nd(n,t,e){let r=n._root,i=t?t._root:null;return en(r,i,e,[r.value])}function Md(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Ot(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Zo(n)?n:t.get(n):r}function en(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Dt(t);return n.children.forEach(o=>{Ld(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>nn(a,e.getContext(o),i)),i}function Ld(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Fd(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new _r(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?en(n,t,a?a.children:null,r,i):en(n,t,e,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new It(a.outlet.component,o))}else o&&nn(t,a,i),i.canActivateChecks.push(new _r(r)),s.component?en(n,null,a?a.children:null,r,i):en(n,null,e,r,i);return i}function Fd(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!et(n.url,t.url);case"pathParamsOrQueryParamsChange":return!et(n.url,t.url)||!ae(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ts(n,t)||!ae(n.queryParams,t.queryParams);case"paramsChange":default:return!ts(n,t)}}function nn(n,t,e){let r=Dt(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?t?nn(o,t.children.getContext(s),e):nn(o,null,e):nn(o,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new It(t.outlet.component,i)):e.canDeactivateChecks.push(new It(null,i)):e.canDeactivateChecks.push(new It(null,i))}function gn(n){return typeof n=="function"}function Ud(n){return typeof n=="boolean"}function xd(n){return n&&gn(n.canLoad)}function $d(n){return n&&gn(n.canActivate)}function Bd(n){return n&&gn(n.canActivateChild)}function jd(n){return n&&gn(n.canDeactivate)}function Vd(n){return n&&gn(n.canMatch)}function _c(n){return n instanceof zo||n?.name==="EmptyError"}var Qn=Symbol("INITIAL_VALUE");function Rt(){return Z(n=>xn(n.map(t=>t.pipe(pt(1),Ko(Qn)))).pipe(C(t=>{for(let e of t)if(e!==!0){if(e===Qn)return Qn;if(e===!1||Hd(e))return e}return!0}),Ce(t=>t!==Qn),pt(1)))}function Hd(n){return ke(n)||n instanceof Tt}function zd(n,t){return U(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?g(O(p({},e),{guardsResult:!0})):Wd(o,r,i,n).pipe(U(a=>a&&Ud(a)?Gd(r,s,n,t):g(a)),C(a=>O(p({},e),{guardsResult:a})))})}function Wd(n,t,e,r){return N(n).pipe(U(i=>Jd(i.component,i.route,e,t,r)),be(i=>i!==!0,!0))}function Gd(n,t,e,r){return N(t).pipe(qe(i=>Wo(Kd(i.route.parent,r),qd(i.route,r),Zd(n,i.path,e),Yd(n,i.route,e))),be(i=>i!==!0,!0))}function qd(n,t){return n!==null&&t&&t(new pr(n)),g(!0)}function Kd(n,t){return n!==null&&t&&t(new hr(n)),g(!0)}function Yd(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return g(!0);let i=r.map(s=>fi(()=>{let o=fn(t)??e,a=Ot(s,o),c=$d(a)?a.canActivate(t,n):x(o,()=>a(t,n));return Me(c).pipe(be())}));return g(i).pipe(Rt())}function Zd(n,t,e){let r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>Md(o)).filter(o=>o!==null).map(o=>fi(()=>{let a=o.guards.map(c=>{let u=fn(o.node)??e,d=Ot(c,u),f=Bd(d)?d.canActivateChild(r,n):x(u,()=>d(r,n));return Me(f).pipe(be())});return g(a).pipe(Rt())}));return g(s).pipe(Rt())}function Jd(n,t,e,r,i){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return g(!0);let o=s.map(a=>{let c=fn(t)??i,u=Ot(a,c),d=jd(u)?u.canDeactivate(n,t,e,r):x(c,()=>u(n,t,e,r));return Me(d).pipe(be())});return g(o).pipe(Rt())}function Xd(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return g(!0);let s=i.map(o=>{let a=Ot(o,n),c=xd(a)?a.canLoad(t,e):x(n,()=>a(t,e));return Me(c)});return g(s).pipe(Rt(),Dc(r))}function Dc(n){return Bo(M(t=>{if(typeof t!="boolean")throw Er(n,t)}),C(t=>t===!0))}function Qd(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return g(!0);let s=i.map(o=>{let a=Ot(o,n),c=Vd(a)?a.canMatch(t,e):x(n,()=>a(t,e));return Me(c)});return g(s).pipe(Rt(),Dc(r))}var ln=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},dn=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function _t(n){return jt(new ln(n))}function eh(n){return jt(new b(4e3,!1))}function th(n){return jt(yc(!1,$.GuardRejected))}var is=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return g(r);if(i.numberOfChildren>1||!i.children[y])return eh(`${t.redirectTo}`);i=i.children[y]}}applyRedirectCommands(t,e,r,i,s){if(typeof e!="string"){let a=e,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:v,params:E,data:A,title:K}=i,B=x(s,()=>a({params:E,data:A,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:v,title:K}));if(B instanceof ue)throw new dn(B);e=B}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new dn(o);return o}applyRedirectCreateUrlTree(t,e,r,i){let s=this.createSegmentGroup(t,e.root,r,i);return new ue(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=e[a]}else r[i]=s}),r}createSegmentGroup(t,e,r,i){let s=this.createSegments(t,e.segments,r,i),o={};return Object.entries(e.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(t,c,r,i)}),new w(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nh(n,t,e,r,i){let s=wc(n,t,e);return s.matched?(r=Cd(t,r),Qd(r,t,e,i).pipe(C(o=>o===!0?s:p({},ss)))):g(s)}function wc(n,t,e){if(t.path==="**")return rh(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?p({},ss):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Ja)(e,n,t);if(!i)return p({},ss);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?p(p({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function rh(n){return{matched:!0,parameters:n.length>0?Qa(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ka(n,t,e,r){return e.length>0&&oh(n,e,r)?{segmentGroup:new w(t,sh(r,new w(e,n.children))),slicedSegments:[]}:e.length===0&&ah(n,e,r)?{segmentGroup:new w(n.segments,ih(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new w(n.segments,n.children),slicedSegments:e}}function ih(n,t,e,r){let i={};for(let s of e)if(wr(n,t,s)&&!r[ee(s)]){let o=new w([],{});i[ee(s)]=o}return p(p({},r),i)}function sh(n,t){let e={};e[y]=t;for(let r of n)if(r.path===""&&ee(r)!==y){let i=new w([],{});e[ee(r)]=i}return e}function oh(n,t,e){return e.some(r=>wr(n,t,r)&&ee(r)!==y)}function ah(n,t,e){return e.some(r=>wr(n,t,r))}function wr(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function ch(n,t,e){return t.length===0&&!n.children[e]}var os=class{};function uh(n,t,e,r,i,s,o="emptyOnly"){return new as(n,t,e,r,i,o,s).recognize()}var lh=31,as=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new is(this.urlSerializer,this.urlTree)}noMatchError(t){return new b(4002,`'${t.segmentGroup}'`)}recognize(){let t=Ka(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(C(({children:e,rootSnapshot:r})=>{let i=new j(r,e),s=new cn("",i),o=cc(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new tt([],Object.freeze({}),Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),y,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,y,e).pipe(C(r=>({children:r,rootSnapshot:e})),Ge(r=>{if(r instanceof dn)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ln?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,s):this.processSegment(t,e,r,r.segments,i,!0,s).pipe(C(o=>o instanceof j?[o]:[]))}processChildren(t,e,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return N(s).pipe(qe(o=>{let a=r.children[o],c=bd(e,o);return this.processSegmentGroup(t,c,a,o,i)}),qo((o,a)=>(o.push(...a),o)),pi(null),Go(),U(o=>{if(o===null)return _t(r);let a=Ic(o);return dh(a),g(a)}))}processSegment(t,e,r,i,s,o,a){return N(e).pipe(qe(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,r,i,s,o,a).pipe(Ge(u=>{if(u instanceof ln)return g(null);throw u}))),be(c=>!!c),Ge(c=>{if(_c(c))return ch(r,i,s)?g(new os):_t(r);throw c}))}processSegmentAgainstRoute(t,e,r,i,s,o,a,c){return ee(r)!==o&&(o===y||!wr(i,s,r))?_t(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,s,o,c):_t(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:v}=wc(e,i,s);if(!c)return _t(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lh&&(this.allowRedirects=!1));let E=new tt(s,u,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Ya(i),ee(i),i.component??i._loadedComponent??null,i,Za(i)),A=yr(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(A.params),E.data=Object.freeze(A.data);let K=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,E,t);return this.applyRedirects.lineralizeSegments(i,K).pipe(U(B=>this.processSegment(t,r,e,B.concat(v),o,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,s,o){let a=nh(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Z(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Z(({routes:u})=>{let d=r._loadedInjector??t,{parameters:f,consumedSegments:v,remainingSegments:E}=c,A=new tt(v,f,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Ya(r),ee(r),r.component??r._loadedComponent??null,r,Za(r)),K=yr(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(K.params),A.data=Object.freeze(K.data);let{segmentGroup:B,slicedSegments:ft}=Ka(e,v,E,u);if(ft.length===0&&B.hasChildren())return this.processChildren(d,u,B,A).pipe(C(Se=>new j(A,Se)));if(u.length===0&&ft.length===0)return g(new j(A,[]));let Fn=ee(r)===s;return this.processSegment(d,u,B,ft,Fn?y:s,!0,A).pipe(C(Se=>new j(A,Se instanceof j?[Se]:[])))}))):_t(e)))}getChildConfig(t,e,r){return e.children?g({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?g({routes:e._loadedRoutes,injector:e._loadedInjector}):Xd(t,e,r,this.urlSerializer).pipe(U(i=>i?this.configLoader.loadChildren(t,e).pipe(M(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):th(e))):g({routes:[],injector:t})}};function dh(n){n.sort((t,e)=>t.value.outlet===y?-1:e.value.outlet===y?1:t.value.outlet.localeCompare(e.value.outlet))}function hh(n){let t=n.value.routeConfig;return t&&t.path===""}function Ic(n){let t=[],e=new Set;for(let r of n){if(!hh(r)){t.push(r);continue}let i=t.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=Ic(r.children);t.push(new j(r.value,i))}return t.filter(r=>!e.has(r))}function Ya(n){return n.data||{}}function Za(n){return n.resolve||{}}function fh(n,t,e,r,i,s){return U(o=>uh(n,t,e,r,o.extractedUrl,i,s).pipe(C(({state:a,tree:c})=>O(p({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function ph(n,t){return U(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return g(e);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Sc(c))o.add(u);let a=0;return N(o).pipe(qe(c=>s.has(c)?gh(c,r,n,t):(c.data=yr(c,c.parent,n).resolve,g(void 0))),M(()=>a++),gi(1),U(c=>a===o.size?g(e):ge))})}function Sc(n){let t=n.children.map(e=>Sc(e)).flat();return[n,...t]}function gh(n,t,e,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!gc(i)&&(s[hn]=i.title),mh(s,n,t,r).pipe(C(o=>(n._resolvedData=o,n.data=yr(n,n.parent,e).resolve,null)))}function mh(n,t,e,r){let i=Yi(n);if(i.length===0)return g({});let s={};return N(i).pipe(U(o=>vh(n[o],t,e,r).pipe(be(),M(a=>{if(a instanceof Tt)throw Er(new Pe,a);s[o]=a}))),gi(1),C(()=>s),Ge(o=>_c(o)?ge:jt(o)))}function vh(n,t,e,r){let i=fn(t)??r,s=Ot(n,i),o=s.resolve?s.resolve(t,e):x(i,()=>s(t,e));return Me(o)}function qi(n){return Z(t=>{let e=n(t);return e?N(e).pipe(C(()=>t)):g(t)})}var ds=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===y);return r}getResolvedTitleForRoute(e){return e.data[hn]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:()=>h(Cc),providedIn:"root"})}return n})(),Cc=(()=>{class n extends ds{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(D(Ha))};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),st=new I("",{providedIn:"root",factory:()=>({})}),hs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ua({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&fa(0,"router-outlet")},dependencies:[us],encapsulation:2})}return n})();function fs(n){let t=n.children&&n.children.map(fs),e=t?O(p({},n),{children:t}):p({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==y&&(e.component=hs),e}var ot=new I(""),Ir=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=h(Ea);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return g(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Me(e.loadComponent()).pipe(C(Ac),M(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),$n(()=>{this.componentLoaders.delete(e)})),i=new li(r,()=>new Y).pipe(ui());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return g({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=bc(r,this.compiler,e,this.onLoadEndListener).pipe($n(()=>{this.childrenLoaders.delete(r)})),o=new li(s,()=>new Y).pipe(ui());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bc(n,t,e,r){return Me(n.loadChildren()).pipe(C(Ac),U(i=>i instanceof ca||Array.isArray(i)?g(i):N(t.compileModuleAsync(i))),C(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(e).injector,o=s.get(ot,[],{optional:!0,self:!0}).flat()),{routes:o.map(fs),injector:s}}))}function yh(n){return n&&typeof n=="object"&&"default"in n}function Ac(n){return yh(n)?n.default:n}var Sr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:()=>h(Eh),providedIn:"root"})}return n})(),Eh=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ps=new I(""),gs=new I("");function Tc(n,t,e){let r=n.get(gs),i=n.get(P);return n.get(L).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),_h(n))),{onViewTransitionCreated:c}=r;return c&&x(n,()=>c({transition:a,from:t,to:e})),o})}function _h(n){return new Promise(t=>{ia({read:()=>setTimeout(t)},{injector:n})})}var ms=new I(""),Cr=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Y;transitionAbortSubject=new Y;configLoader=h(Ir);environmentInjector=h(Ae);destroyRef=h(Ei);urlSerializer=h(rt);rootContexts=h(it);location=h(Re);inputBindingEnabled=h(pn,{optional:!0})!==null;titleStrategy=h(ds);options=h(st,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=h(Sr);createViewTransition=h(ps,{optional:!0});navigationErrorHandler=h(ms,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>g(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new lr(i)),r=i=>this.events.next(new dr(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(O(p({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new G(null),this.transitions.pipe(Ce(r=>r!==null),Z(r=>{let i=!1,s=!1;return g(r).pipe(Z(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",$.SupersededByNewNavigation),ge;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?O(p({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new le(o.id,this.urlSerializer.serialize(o.rawUrl),u,St.IgnoredSameUrlNavigation)),o.resolve(!1),ge}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return g(o).pipe(Z(u=>(this.events.next(new Ne(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?ge:Promise.resolve(u))),fh(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),M(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=O(p({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new sn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:d,source:f,restoredState:v,extras:E}=o,A=new Ne(u,this.urlSerializer.serialize(d),f,v);this.events.next(A);let K=fc(this.rootComponentType).snapshot;return this.currentTransition=r=O(p({},o),{targetSnapshot:K,urlAfterRedirects:d,extras:O(p({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,g(r)}else{let u="";return this.events.next(new le(o.id,this.urlSerializer.serialize(o.extractedUrl),u,St.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ge}}),M(o=>{let a=new or(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),C(o=>(this.currentTransition=r=O(p({},o),{guards:Nd(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),zd(this.environmentInjector,o=>this.events.next(o)),M(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Er(this.urlSerializer,o.guardsResult);let a=new ar(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ce(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",$.GuardRejected),!1)),qi(o=>{if(o.guards.canActivateChecks.length!==0)return g(o).pipe(M(a=>{let c=new cr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Z(a=>{let c=!1;return g(a).pipe(ph(this.paramsInheritanceStrategy,this.environmentInjector),M({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",$.NoDataFromResolver)}}))}),M(a=>{let c=new ur(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),qi(o=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(M(d=>{c.component=d}),C(()=>{})));for(let d of c.children)u.push(...a(d));return u};return xn(a(o.targetSnapshot.root)).pipe(pi(null),pt(1))}),qi(()=>this.afterPreactivation()),Z(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?N(c).pipe(C(()=>r)):g(r)}),C(o=>{let a=Td(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=O(p({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),M(()=>{this.events.next(new on)}),kd(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),pt(1),M({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new H(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Yo(this.transitionAbortSubject.pipe(M(o=>{throw o}))),$n(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",$.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ge(o=>{if(this.destroyed)return r.resolve(!1),ge;if(s=!0,Ec(o))this.events.next(new ce(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Pd(o)?this.events.next(new At(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ct(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=x(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Tt){let{message:u,cancellationCode:d}=Er(this.urlSerializer,c);this.events.next(new ce(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new At(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return ge}))}))}cancelNavigationTransition(e,r,i){let s=new ce(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dh(n){return n!==rr}var Rc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:()=>h(wh),providedIn:"root"})}return n})(),Dr=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},wh=(()=>{class n extends Dr{static \u0275fac=(()=>{let e;return function(i){return(e||(e=vi(n)))(i||n)}})();static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Oc=(()=>{class n{urlSerializer=h(rt);options=h(st,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=h(Re);urlHandlingStrategy=h(Sr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ue;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let s=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,o=i??s;return o instanceof ue?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=fc(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:()=>h(Ih),providedIn:"root"})}return n})(),Ih=(()=>{class n extends Oc{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof Ne?this.updateStateMemento():e instanceof le?this.commitTransition(r):e instanceof sn?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof on?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof ce&&(e.code===$.GuardRejected||e.code===$.NoDataFromResolver)?this.restoreHistory(r):e instanceof Ct?this.restoreHistory(r,!0):e instanceof H&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(e)||s){let a=this.browserPageId,c=p(p({},o),this.generateNgRouterState(i,a));this.location.replaceState(e,"",c)}else{let a=p(p({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&s===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=vi(n)))(i||n)}})();static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function br(n,t){n.events.pipe(Ce(e=>e instanceof H||e instanceof ce||e instanceof Ct||e instanceof le),C(e=>e instanceof H||e instanceof le?0:(e instanceof ce?e.code===$.Redirect||e.code===$.SupersededByNewNavigation:!1)?2:1),Ce(e=>e!==2),pt(1)).subscribe(()=>{t()})}var Sh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ch={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},te=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=h(la);stateManager=h(Oc);options=h(st,{optional:!0})||{};pendingTasks=h(Qo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=h(Cr);urlSerializer=h(rt);location=h(Re);urlHandlingStrategy=h(Sr);_events=new Y;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=h(Rc);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=h(ot,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!h(pn,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $o;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof ce&&r.code!==$.Redirect&&r.code!==$.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof H)this.navigated=!0;else if(r instanceof At){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=p({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Dh(i.source)},o);this.scheduleNavigation(a,rr,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Ah(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=p({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(fs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=p(p({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let v=i?i.snapshot:this.routerState.snapshot.root;f=uc(v)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),f=this.currentUrlTree.root}return lc(f,e,d,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=ke(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,rr,null,r)}navigate(e,r={skipLocationChange:!1}){return bh(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=p({},Sh):r===!1?i=p({},Ch):i=r,ke(e))return za(this.currentUrlTree,e,i);let s=this.parseUrl(e);return za(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(e,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((f,v)=>{a=f,c=v});let d=this.pendingTasks.add();return br(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bh(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new b(4008,!1)}function Ah(n){return!(n instanceof on)&&!(n instanceof At)}var Ar=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Y;constructor(e,r,i,s,o,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof H&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ke(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:sa(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:ke(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(T(te),T(de),yi("tabindex"),T(Xe),T(Ze),T(Q))};static \u0275dir=oe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&pa("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&ha("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wt],replaceUrl:[2,"replaceUrl","replaceUrl",Wt],routerLink:"routerLink"},features:[vt]})}return n})(),Th=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ye;constructor(e,r,i,s,o){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof H&&this.update()})}ngAfterContentInit(){g(this.links.changes,g(null)).pipe(Vt()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=N(e).pipe(Vt()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=Rh(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?e.isActive(s,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(T(te),T(Ze),T(Xe),T(Et),T(Ar,8))};static \u0275dir=oe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&ga(s,Ar,5),r&2){let o;ma(o=va())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[vt]})}return n})();function Rh(n){return!!n.paths}var mn=class{};var Pc=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,s){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ce(e=>e instanceof H),qe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=jn(s.providers,e,`Route: ${s.path}`));let o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return N(i).pipe(Vt())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=g(null);let s=i.pipe(U(o=>o===null?g(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return N([s,o]).pipe(Vt())}else return s})}static \u0275fac=function(r){return new(r||n)(D(te),D(Ae),D(mn),D(Ir))};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kc=new I(""),Oh=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,s,o={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ne?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof H?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof le&&e.code===St.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof bt&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bt(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){aa()};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})();function Ph(n,...t){return mt([{provide:ot,multi:!0,useValue:n},[],{provide:de,useFactory:Nc,deps:[te]},{provide:Ai,multi:!0,useFactory:Mc},t.map(e=>e.\u0275providers)])}function Nc(n){return n.routerState.root}function vn(n,t){return{\u0275kind:n,\u0275providers:t}}function Mc(){let n=h(J);return t=>{let e=n.get(da);if(t!==e.components[0])return;let r=n.get(te),i=n.get(Lc);n.get(ys)===1&&r.initialNavigation(),n.get(xc,null,mi.Optional)?.setUpPreloading(),n.get(kc,null,mi.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Lc=new I("",{factory:()=>new Y}),ys=new I("",{providedIn:"root",factory:()=>1});function Fc(){let n=[{provide:ys,useValue:0},bi(()=>{let t=h(J);return t.get(Pi,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(te),s=t.get(Lc);br(i,()=>{r(!0)}),t.get(Cr).afterPreactivation=()=>(r(!0),s.closed?g(void 0):s),i.initialNavigation()}))})];return vn(2,n)}function Uc(){let n=[bi(()=>{h(te).setUpLocationChangeListener()}),{provide:ys,useValue:2}];return vn(3,n)}var xc=new I("");function $c(n){return vn(0,[{provide:xc,useExisting:Pc},{provide:mn,useExisting:n}])}function Bc(){return vn(8,[ls,{provide:pn,useExisting:ls}])}function jc(n){Ii("NgRouterViewTransitions");let t=[{provide:ps,useValue:Tc},{provide:gs,useValue:p({skipNextTransition:!!n?.skipInitialTransition},n)}];return vn(9,t)}var Vc=[Re,{provide:rt,useClass:Pe},te,it,{provide:de,useFactory:Nc,deps:[te]},Ir,[]],kh=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[Vc,[],{provide:ot,multi:!0,useValue:e},[],r?.errorHandler?{provide:ms,useValue:r.errorHandler}:[],{provide:st,useValue:r||{}},r?.useHash?Mh():Lh(),Nh(),r?.preloadingStrategy?$c(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Fh(r):[],r?.bindToComponentInputs?Bc().\u0275providers:[],r?.enableViewTransitions?jc().\u0275providers:[],Uh()]}}static forChild(e){return{ngModule:n,providers:[{provide:ot,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=yt({type:n});static \u0275inj=gt({})}return n})();function Nh(){return{provide:kc,useFactory:()=>{let n=h(Ma),t=h(L),e=h(st),r=h(Cr),i=h(rt);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Oh(i,r,n,t,e)}}}function Mh(){return{provide:Q,useClass:Ni}}function Lh(){return{provide:Q,useClass:zn}}function Fh(n){return[n.initialNavigation==="disabled"?Uc().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Fc().\u0275providers:[]]}var vs=new I("");function Uh(){return[{provide:vs,useFactory:Mc},{provide:Ai,multi:!0,useExisting:vs}]}var Hc=()=>{};var Wc=function(n){let t=[],e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},xh=function(n){let t=[],e=0,r=0;for(;e<n.length;){let i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[e++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[e++],o=n[e++],a=n[e++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[e++],o=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Tr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,v=(a&15)<<2|u>>6,E=u&63;c||(E=64,o||(v=64)),r.push(e[d],e[f],e[v],e[E])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Wc(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):xh(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=e[n.charAt(i++)],a=i<n.length?e[n.charAt(i)]:0;++i;let u=i<n.length?e[n.charAt(i)]:64;++i;let f=i<n.length?e[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new _s;let v=s<<2|a>>4;if(r.push(v),u!==64){let E=a<<4&240|u>>2;if(r.push(E),f!==64){let A=u<<6&192|f;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},_s=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$h=function(n){let t=Wc(n);return Tr.encodeByteArray(t,!0)},yn=function(n){return $h(n).replace(/\./g,"")},Rr=function(n){try{return Tr.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Gc(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Bh=()=>Gc().__FIREBASE_DEFAULTS__,jh=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Vh=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&Rr(n[1]);return t&&JSON.parse(t)},Or=()=>{try{return Hc()||Bh()||jh()||Vh()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ws=n=>{var t,e;return(e=(t=Or())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},M_=n=>{let t=ws(n);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},Is=()=>{var n;return(n=Or())===null||n===void 0?void 0:n.config},Ss=n=>{var t;return(t=Or())===null||t===void 0?void 0:t[`_${n}`]};var at=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}};function L_(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[yn(JSON.stringify(e)),yn(JSON.stringify(o)),""].join(".")}function F(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F())}function Hh(){var n;let t=(n=Or())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kc(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yc(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Zc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jc(){let n=F();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function F_(){return!Hh()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pr(){try{return typeof indexedDB=="object"}catch{return!1}}function Xc(){return new Promise((n,t)=>{try{let e=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}var zh="FirebaseError",ne=class n extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=zh,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,re.prototype.create)}},re=class{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){let r=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Wh(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ne(i,a,r)}};function Wh(n,t){return n.replace(Gh,(e,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var Gh=/\{\$([^}]+)}/g;function Qc(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Le(n,t){if(n===t)return!0;let e=Object.keys(n),r=Object.keys(t);for(let i of e){if(!r.includes(i))return!1;let s=n[i],o=t[i];if(zc(s)&&zc(o)){if(!Le(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!e.includes(i))return!1;return!0}function zc(n){return n!==null&&typeof n=="object"}function Pt(n){let t=[];for(let[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function kt(n){let t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Nt(n){let t=n.indexOf("?");if(!t)return"";let e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function eu(n,t){let e=new Ds(n,t);return e.subscribe.bind(e)}var Ds=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");qh(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=Es),i.error===void 0&&(i.error=Es),i.complete===void 0&&(i.complete=Es);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function qh(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Es(){}var U_=4*60*60*1e3;function he(n){return n&&n._delegate?n._delegate:n}var z=class{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var ct="[DEFAULT]";var Cs=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let r=new at;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Yh(t))try{this.getOrInitializeService({instanceIdentifier:ct})}catch{}for(let[e,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ct){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return l(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=ct){return this.instances.has(t)}getOptions(t=ct){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,e){var r;let i=this.normalizeInstanceIdentifier(e),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){let r=this.onInitCallbacks.get(e);if(r)for(let i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kh(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ct){return this.component?this.component.multipleInstances?t:ct:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Kh(n){return n===ct?void 0:n}function Yh(n){return n.instantiationMode==="EAGER"}var kr=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new Cs(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var Zh=[],S=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(S||{}),Jh={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},Xh=S.INFO,Qh={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},ef=(n,t,...e)=>{if(t<n.logLevel)return;let r=new Date().toISOString(),i=Qh[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Fe=class{constructor(t){this.name=t,this._logLevel=Xh,this._logHandler=ef,this._userLogHandler=null,Zh.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in S))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Jh[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...t),this._logHandler(this,S.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...t),this._logHandler(this,S.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,S.INFO,...t),this._logHandler(this,S.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,S.WARN,...t),this._logHandler(this,S.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,S.ERROR,...t),this._logHandler(this,S.ERROR,...t)}};var tf=(n,t)=>t.some(e=>n instanceof e),tu,nu;function nf(){return tu||(tu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rf(){return nu||(nu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ru=new WeakMap,As=new WeakMap,iu=new WeakMap,bs=new WeakMap,Rs=new WeakMap;function sf(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(fe(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&ru.set(e,n)}).catch(()=>{}),Rs.set(t,n),t}function of(n){if(As.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});As.set(n,t)}var Ts={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return As.get(n);if(t==="objectStoreNames")return n.objectStoreNames||iu.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return fe(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function su(n){Ts=n(Ts)}function af(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let r=n.call(Nr(this),t,...e);return iu.set(r,t.sort?t.sort():[t]),fe(r)}:rf().includes(n)?function(...t){return n.apply(Nr(this),t),fe(ru.get(this))}:function(...t){return fe(n.apply(Nr(this),t))}}function cf(n){return typeof n=="function"?af(n):(n instanceof IDBTransaction&&of(n),tf(n,nf())?new Proxy(n,Ts):n)}function fe(n){if(n instanceof IDBRequest)return sf(n);if(bs.has(n))return bs.get(n);let t=cf(n);return t!==n&&(bs.set(n,t),Rs.set(t,n)),t}var Nr=n=>Rs.get(n);function au(n,t,{blocked:e,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,t),a=fe(o);return r&&o.addEventListener("upgradeneeded",c=>{r(fe(o.result),c.oldVersion,c.newVersion,fe(o.transaction),c)}),e&&o.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var uf=["get","getKey","getAll","getAllKeys","count"],lf=["put","add","delete","clear"],Os=new Map;function ou(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Os.get(t))return Os.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=lf.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uf.includes(e)))return;let s=function(o,...a){return l(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[e](...a),i&&c.done]))[0]})};return Os.set(t,s),s}su(n=>O(p({},n),{get:(t,e,r)=>ou(t,e)||n.get(t,e,r),has:(t,e)=>!!ou(t,e)||n.has(t,e)}));var ks=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(df(e)){let r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}};function df(n){let t=n.getComponent();return t?.type==="VERSION"}var Ns="@firebase/app",cu="0.11.5";var ve=new Fe("@firebase/app"),hf="@firebase/app-compat",ff="@firebase/analytics-compat",pf="@firebase/analytics",gf="@firebase/app-check-compat",mf="@firebase/app-check",vf="@firebase/auth",yf="@firebase/auth-compat",Ef="@firebase/database",_f="@firebase/data-connect",Df="@firebase/database-compat",wf="@firebase/functions",If="@firebase/functions-compat",Sf="@firebase/installations",Cf="@firebase/installations-compat",bf="@firebase/messaging",Af="@firebase/messaging-compat",Tf="@firebase/performance",Rf="@firebase/performance-compat",Of="@firebase/remote-config",Pf="@firebase/remote-config-compat",kf="@firebase/storage",Nf="@firebase/storage-compat",Mf="@firebase/firestore",Lf="@firebase/vertexai",Ff="@firebase/firestore-compat",Uf="firebase",xf="11.6.1";var Ms="[DEFAULT]",$f={[Ns]:"fire-core",[hf]:"fire-core-compat",[pf]:"fire-analytics",[ff]:"fire-analytics-compat",[mf]:"fire-app-check",[gf]:"fire-app-check-compat",[vf]:"fire-auth",[yf]:"fire-auth-compat",[Ef]:"fire-rtdb",[_f]:"fire-data-connect",[Df]:"fire-rtdb-compat",[wf]:"fire-fn",[If]:"fire-fn-compat",[Sf]:"fire-iid",[Cf]:"fire-iid-compat",[bf]:"fire-fcm",[Af]:"fire-fcm-compat",[Tf]:"fire-perf",[Rf]:"fire-perf-compat",[Of]:"fire-rc",[Pf]:"fire-rc-compat",[kf]:"fire-gcs",[Nf]:"fire-gcs-compat",[Mf]:"fire-fst",[Ff]:"fire-fst-compat",[Lf]:"fire-vertex","fire-js":"fire-js",[Uf]:"fire-js-all"};var En=new Map,Bf=new Map,Ls=new Map;function uu(n,t){try{n.container.addComponent(t)}catch(e){ve.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ye(n){let t=n.name;if(Ls.has(t))return ve.debug(`There were multiple attempts to register component ${t}.`),!1;Ls.set(t,n);for(let e of En.values())uu(e,n);for(let e of Bf.values())uu(e,n);return!0}function Mr(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function W(n){return n==null?!1:n.settings!==void 0}var jf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ue=new re("app","Firebase",jf);var Fs=class{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new z("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ue.create("app-deleted",{appName:this._name})}};var Mt=xf;function $s(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let r=Object.assign({name:Ms,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ue.create("bad-app-name",{appName:String(i)});if(e||(e=Is()),!e)throw Ue.create("no-options");let s=En.get(i);if(s){if(Le(e,s.options)&&Le(r,s.config))return s;throw Ue.create("duplicate-app",{appName:i})}let o=new kr(i);for(let c of Ls.values())o.addComponent(c);let a=new Fs(e,r,o);return En.set(i,a),a}function Dn(n=Ms){let t=En.get(n);if(!t&&n===Ms&&Is())return $s();if(!t)throw Ue.create("no-app",{appName:n});return t}function Lr(){return Array.from(En.values())}function k(n,t,e){var r;let i=(r=$f[n])!==null&&r!==void 0?r:n;e&&(i+=`-${e}`);let s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ve.warn(a.join(" "));return}ye(new z(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Vf="firebase-heartbeat-database",Hf=1,_n="firebase-heartbeat-store",Ps=null;function fu(){return Ps||(Ps=au(Vf,Hf,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(_n)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ue.create("idb-open",{originalErrorMessage:n.message})})),Ps}function zf(n){return l(this,null,function*(){try{let e=(yield fu()).transaction(_n),r=yield e.objectStore(_n).get(pu(n));return yield e.done,r}catch(t){if(t instanceof ne)ve.warn(t.message);else{let e=Ue.create("idb-get",{originalErrorMessage:t?.message});ve.warn(e.message)}}})}function lu(n,t){return l(this,null,function*(){try{let r=(yield fu()).transaction(_n,"readwrite");yield r.objectStore(_n).put(t,pu(n)),yield r.done}catch(e){if(e instanceof ne)ve.warn(e.message);else{let r=Ue.create("idb-set",{originalErrorMessage:e?.message});ve.warn(r.message)}}})}function pu(n){return`${n.name}!${n.options.appId}`}var Wf=1024,Gf=30,Us=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new xs(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var t,e;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=du();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Gf){let o=Kf(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ve.warn(r)}})}getHeartbeatsHeader(){return l(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=du(),{heartbeatsToSend:r,unsentEntries:i}=qf(this._heartbeatsCache.heartbeats),s=yn(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ve.warn(e),""}})}};function du(){return new Date().toISOString().substring(0,10)}function qf(n,t=Wf){let e=[],r=n.slice();for(let i of n){let s=e.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hu(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),hu(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}var xs=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return Pr()?Xc().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield zf(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return l(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return lu(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return l(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return lu(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function hu(n){return yn(JSON.stringify({version:2,heartbeats:n})).length}function Kf(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function Yf(n){ye(new z("platform-logger",t=>new ks(t),"PRIVATE")),ye(new z("heartbeat",t=>new Us(t),"PRIVATE")),k(Ns,cu,n),k(Ns,cu,"esm2017"),k("fire-js","")}Yf("");var Zf="firebase",Jf="11.6.1";k(Zf,Jf,"app");function Bs(n){n===void 0&&(Xo(Bs),n=h(J));let t=n.get(Bn);return e=>new We(r=>{let i=t.add(),s=!1;function o(){s||(i(),s=!0)}let a=e.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var Ft=new Ti("ANGULARFIRE2_VERSION");function js(n,t,e){if(t){if(t.length===1)return t[0];let s=t.filter(o=>o.app===e);if(s.length===1)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}var Ur=(n,t)=>{let e=t?[t]:Lr(),r=[];return e.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Lt=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Lt||{}),gu=Ri()&&typeof Zone<"u"?Lt.WARN:Lt.SILENT;var Fr=class{zone;delegate;constructor(t,e=Vo){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{t.apply(this,[o])}):t.apply(this,[o])};return this.delegate.schedule(s,e,r)}},Ut=(()=>{class n{outsideAngular;insideAngular;constructor(){let e=h(L);this.outsideAngular=e.runOutsideAngular(()=>new Fr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new Fr(typeof Zone>"u"?void 0:Zone.current,jo))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mu=!1;function Xf(n,t){!mu&&(gu>Lt.SILENT||Ri())&&(mu=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),gu>=t&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Qf(n){let t=h(L,{optional:!0});return t?t.runOutsideAngular(()=>n()):n()}function ut(n){let t=h(L,{optional:!0});return t?t.run(()=>n()):n()}var ep=(n,t,e)=>(...r)=>(t&&setTimeout(t,0),x(e,()=>ut(()=>n.apply(void 0,r)))),Ee=(n,t,e)=>(e||=t?Lt.WARN:Lt.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=h(Ut),o=h(Bn),a=h(Ae)}catch{return Xf(n,e),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(t&&(r||=ut(()=>o.add())),i[u]=ep(i[u],r,a));let c=Qf(()=>n.apply(this,i));return t?c instanceof We?c.pipe(hi(s.outsideAngular),di(s.insideAngular),Bs(a)):c instanceof Promise?ut(()=>new Promise((u,d)=>{o.run(()=>c).then(f=>x(a,()=>ut(()=>u(f))),f=>x(a,()=>ut(()=>d(f))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:ut(()=>c):c instanceof We?c.pipe(hi(s.outsideAngular),di(s.insideAngular)):ut(()=>c)});var lt=class{constructor(t){return t}},wn=class{constructor(){return Lr()}};function tp(n){return n&&n.length===1?n[0]:new lt(Dn())}var Vs=new I("angularfire2._apps"),np={provide:lt,useFactory:tp,deps:[[new Ke,Vs]]},rp={provide:wn,deps:[[new Ke,Vs]]};function ip(n){return(t,e)=>{let r=e.get(Te);k("angularfire",Ft.full,"core"),k("angularfire",Ft.full,"app"),k("angular",ya.full,r.toString());let i=t.runOutsideAngular(()=>n(e));return new lt(i)}}function FD(n,...t){return mt([np,rp,{provide:Vs,useFactory:ip(n),multi:!0,deps:[L,J,Ut,...t]}])}var UD=Ee($s,!0);function ku(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Nu=ku,Mu=new re("auth","Firebase",ku());var Hr=new Fe("@firebase/auth");function sp(n,...t){Hr.logLevel<=S.WARN&&Hr.warn(`Auth (${Mt}): ${n}`,...t)}function $r(n,...t){Hr.logLevel<=S.ERROR&&Hr.error(`Auth (${Mt}): ${n}`,...t)}function q(n,...t){throw ho(n,...t)}function ie(n,...t){return ho(n,...t)}function lo(n,t,e){let r=Object.assign(Object.assign({},Nu()),{[t]:e});return new re("auth","Firebase",r).create(t,{appName:n.name})}function we(n){return lo(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(n,t,e){let r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&q(n,"argument-error"),lo(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ho(n,...t){if(typeof n!="string"){let e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return Mu.create(n,...t)}function m(n,t,...e){if(!n)throw ho(t,...e)}function _e(n){let t="INTERNAL ASSERTION FAILED: "+n;throw $r(t),new Error(t)}function Ie(n,t){n||_e(t)}function Ws(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ap(){return vu()==="http:"||vu()==="https:"}function vu(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function cp(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ap()||Yc()||"connection"in navigator)?navigator.onLine:!0}function up(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var dt=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ie(e>t,"Short delay should be less than long delay!"),this.isMobile=qc()||Zc()}get(){return cp()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fo(n,t){Ie(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var zr=class{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var dp=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hp=new dt(3e4,6e4);function Be(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function je(s,o,a,c){return l(this,arguments,function*(n,t,e,r,i={}){return Lu(n,i,()=>l(this,null,function*(){let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});let f=Pt(Object.assign({key:n.config.apiKey},d)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let E=Object.assign({method:t,headers:v},u);return Kc()||(E.referrerPolicy="no-referrer"),zr.fetch()(yield Fu(n,n.config.apiHost,e,f),E)}))})}function Lu(n,t,e){return l(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},lp),t);try{let i=new Gs(n),s=yield Promise.race([e(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw xr(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xr(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw xr(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw xr(n,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw lo(n,d,u);q(n,d)}}catch(i){if(i instanceof ne)throw i;q(n,"network-request-failed",{message:String(i)})}})}function Pn(s,o,a,c){return l(this,arguments,function*(n,t,e,r,i={}){let u=yield je(n,t,e,r,i);return"mfaPendingCredential"in u&&q(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function Fu(n,t,e,r){return l(this,null,function*(){let i=`${t}${e}?${r}`,s=n,o=s.config.emulator?fo(n.config,i):`${n.config.apiScheme}://${i}`;return dp.includes(e)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function fp(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Gs=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(ie(this.auth,"network-request-failed")),hp.get())})}};function xr(n,t,e){let r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);let i=ie(n,t,r);return i.customData._tokenResponse=e,i}function yu(n){return n!==void 0&&n.enterprise!==void 0}var qs=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return fp(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function pp(n,t){return l(this,null,function*(){return je(n,"GET","/v2/recaptchaConfig",Be(n,t))})}function gp(n,t){return l(this,null,function*(){return je(n,"POST","/v1/accounts:delete",t)})}function Wr(n,t){return l(this,null,function*(){return je(n,"POST","/v1/accounts:lookup",t)})}function Sn(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function po(n,t=!1){return l(this,null,function*(){let e=he(n),r=yield e.getIdToken(t),i=go(r);m(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Sn(Hs(i.auth_time)),issuedAtTime:Sn(Hs(i.iat)),expirationTime:Sn(Hs(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Hs(n){return Number(n)*1e3}function go(n){let[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return $r("JWT malformed, contained fewer than 3 sections"),null;try{let i=Rr(e);return i?JSON.parse(i):($r("Failed to decode base64 JWT payload"),null)}catch(i){return $r("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Eu(n){let t=go(n);return m(t,"internal-error"),m(typeof t.exp<"u","internal-error"),m(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function bn(n,t,e=!1){return l(this,null,function*(){if(e)return t;try{return yield t}catch(r){throw r instanceof ne&&mp(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function mp({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Ks=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),e)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var An=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Gr(n){return l(this,null,function*(){var t;let e=n.auth,r=yield n.getIdToken(),i=yield bn(n,Wr(e,{idToken:r}));m(i?.users.length,e,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Uu(s.providerUserInfo):[],a=vp(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new An(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function mo(n){return l(this,null,function*(){let t=he(n);yield Gr(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function vp(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Uu(n){return n.map(t=>{var{providerId:e}=t,r=Un(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function yp(n,t){return l(this,null,function*(){let e=yield Lu(n,{},()=>l(this,null,function*(){let r=Pt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield Fu(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zr.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function Ep(n,t){return l(this,null,function*(){return je(n,"POST","/v2/accounts:revokeToken",Be(n,t))})}var Cn=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){m(t.idToken,"internal-error"),m(typeof t.idToken<"u","internal-error"),m(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Eu(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){m(t.length!==0,"internal-error");let e=Eu(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return l(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(m(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield yp(t,e);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){let{refreshToken:r,accessToken:i,expirationTime:s}=e,o=new n;return r&&(m(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(m(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(m(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return _e("not implemented")}};function xe(n,t){m(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var $e=class n{constructor(t){var{uid:e,auth:r,stsTokenManager:i}=t,s=Un(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ks(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new An(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){return l(this,null,function*(){let e=yield bn(this,this.stsTokenManager.getToken(this.auth,t));return m(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return po(this,t)}reload(){return mo(this)}_assign(t){this!==t&&(m(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return l(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield Gr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(W(this.auth.app))return Promise.reject(we(this.auth));let t=yield this.getIdToken();return yield bn(this,gp(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,i,s,o,a,c,u,d;let f=(r=e.displayName)!==null&&r!==void 0?r:void 0,v=(i=e.email)!==null&&i!==void 0?i:void 0,E=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=e.photoURL)!==null&&o!==void 0?o:void 0,K=(a=e.tenantId)!==null&&a!==void 0?a:void 0,B=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,ft=(u=e.createdAt)!==null&&u!==void 0?u:void 0,Fn=(d=e.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Se,emailVerified:Fo,isAnonymous:Uo,providerData:ai,stsTokenManager:xo}=e;m(Se&&xo,t,"internal-error");let Sl=Cn.fromJSON(this.name,xo);m(typeof Se=="string",t,"internal-error"),xe(f,t.name),xe(v,t.name),m(typeof Fo=="boolean",t,"internal-error"),m(typeof Uo=="boolean",t,"internal-error"),xe(E,t.name),xe(A,t.name),xe(K,t.name),xe(B,t.name),xe(ft,t.name),xe(Fn,t.name);let ci=new n({uid:Se,auth:t,email:v,emailVerified:Fo,displayName:f,isAnonymous:Uo,photoURL:A,phoneNumber:E,tenantId:K,stsTokenManager:Sl,createdAt:ft,lastLoginAt:Fn});return ai&&Array.isArray(ai)&&(ci.providerData=ai.map(Cl=>Object.assign({},Cl))),B&&(ci._redirectEventId=B),ci}static _fromIdTokenResponse(t,e,r=!1){return l(this,null,function*(){let i=new Cn;i.updateFromServerResponse(e);let s=new n({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield Gr(s),s})}static _fromGetAccountInfoResponse(t,e,r){return l(this,null,function*(){let i=e.users[0];m(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Uu(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Cn;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new An(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var _u=new Map;function De(n){Ie(n instanceof Function,"Expected a class definition");let t=_u.get(n);return t?(Ie(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,_u.set(n,t),t)}var _p=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(e,r){return l(this,null,function*(){this.storage[e]=r})}_get(e){return l(this,null,function*(){let r=this.storage[e];return r===void 0?null:r})}_remove(e){return l(this,null,function*(){delete this.storage[e]})}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})(),Ys=_p;function Br(n,t,e){return`firebase:${n}:${t}:${e}`}var qr=class n{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Br(this.userKey,i.apiKey,s),this.fullPersistenceKey=Br("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return l(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=yield Wr(this.auth,{idToken:t}).catch(()=>{});return e?$e._fromGetAccountInfoResponse(this.auth,e,t):null}return $e._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return l(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,r="authUser"){return l(this,null,function*(){if(!e.length)return new n(De(Ys),t,r);let i=(yield Promise.all(e.map(u=>l(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||De(Ys),o=Br(r,t.config.apiKey,t.name),a=null;for(let u of e)try{let d=yield u._get(o);if(d){let f;if(typeof d=="string"){let v=yield Wr(t,{idToken:d}).catch(()=>{});if(!v)break;f=yield $e._fromGetAccountInfoResponse(t,v,d)}else f=$e._fromJSON(t,d);u!==s&&(a=f),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,t,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(u=>l(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,t,r))})}};function Du(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ju(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hu(t))return"Blackberry";if(zu(t))return"Webos";if($u(t))return"Safari";if((t.includes("chrome/")||Bu(t))&&!t.includes("edge/"))return"Chrome";if(Vu(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function xu(n=F()){return/firefox\//i.test(n)}function $u(n=F()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Bu(n=F()){return/crios\//i.test(n)}function ju(n=F()){return/iemobile/i.test(n)}function Vu(n=F()){return/android/i.test(n)}function Hu(n=F()){return/blackberry/i.test(n)}function zu(n=F()){return/webos/i.test(n)}function vo(n=F()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Dp(n=F()){var t;return vo(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function wp(){return Jc()&&document.documentMode===10}function Wu(n=F()){return vo(n)||Vu(n)||zu(n)||Hu(n)||/windows phone/i.test(n)||ju(n)}function Gu(n,t=[]){let e;switch(n){case"Browser":e=Du(F());break;case"Worker":e=`${Du(F())}-${n}`;break;default:e=n}let r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Mt}/${r}`}var Zs=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let r=s=>new Promise((o,a)=>{try{let c=t(s);o(c)}catch(c){a(c)}});r.onAbort=e,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return l(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let r of this.queue)yield r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(let i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Ip(e){return l(this,arguments,function*(n,t={}){return je(n,"GET","/v2/passwordPolicy",Be(n,t))})}var Sp=6,Js=class{constructor(t){var e,r,i,s;let o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:Sp,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,e){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var Xs=class{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kr(this),this.idTokenSubscription=new Kr(this),this.beforeStateQueue=new Zs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=De(e)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield qr.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return l(this,null,function*(){try{let e=yield Wr(this,{idToken:t}),r=yield $e._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return l(this,null,function*(){var e;if(W(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return m(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return l(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return l(this,null,function*(){try{yield Gr(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=up()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return l(this,null,function*(){if(W(this.app))return Promise.reject(we(this));let e=t?he(t):null;return e&&m(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return l(this,null,function*(){if(!this._deleted)return t&&m(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return W(this.app)?Promise.reject(we(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return W(this.app)?Promise.reject(we(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(De(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let t=yield Ip(this),e=new Js(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new re("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},e)}})}revokeAccessToken(t){return l(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Ep(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return l(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&De(t)||this._popupRedirectResolver;m(e,this,"argument-error"),this.redirectPersistenceManager=yield qr.create(this,[De(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return l(this,null,function*(){var e,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return l(this,null,function*(){if(t===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(m(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let c=t.addObserver(e,r,i);return()=>{o=!0,c()}}else{let c=t.addObserver(e);return()=>{o=!0,c()}}}directlySetCurrentUser(t){return l(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Gu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e})}_getAppCheckToken(){return l(this,null,function*(){var t;if(W(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&sp(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function Ve(n){return he(n)}var Kr=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=eu(e=>this.observer=e)}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ri={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cp(n){ri=n}function qu(n){return ri.loadJS(n)}function bp(){return ri.recaptchaEnterpriseScript}function Ap(){return ri.gapiScript}function Ku(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Qs=class{constructor(){this.enterprise=new eo}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},eo=class{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}};var Tp="recaptcha-enterprise",Yu="NO_RECAPTCHA",to=class{constructor(t){this.type=Tp,this.auth=Ve(t)}verify(t="verify",e=!1){return l(this,null,function*(){function r(s){return l(this,null,function*(){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>l(this,null,function*(){pp(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new qs(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;yu(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(Yu)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qs().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!e&&yu(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=bp();c.length!==0&&(c+=a),qu(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function In(n,t,e,r=!1,i=!1){return l(this,null,function*(){let s=new to(n),o;if(i)o=Yu;else try{o=yield s.verify(e)}catch{o=yield s.verify(e,!0)}let a=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function no(n,t,e,r,i){return l(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield In(n,t,e,e==="getOobCode");return r(n,a)}else return r(n,t).catch(a=>l(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield In(n,t,e,e==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield In(n,t,e);return r(n,a).catch(c=>l(this,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let d=yield In(n,t,e,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield In(n,t,e,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function yo(n,t){let e=Mr(n,"auth");if(e.isInitialized()){let i=e.getImmediate(),s=e.getOptions();if(Le(s,t??{}))return i;q(i,"already-initialized")}return e.initialize({options:t})}function Rp(n,t){let e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(De);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function Eo(n,t,e){let r=Ve(n);m(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!e?.disableWarnings,s=Zu(t),{host:o,port:a}=Op(t),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){m(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),m(Le(u,r.config.emulator)&&Le(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,i||Pp()}function Zu(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Op(n){let t=Zu(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:wu(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:wu(o)}}}function wu(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function Pp(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var $t=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return _e("not implemented")}_getIdTokenResponse(t){return _e("not implemented")}_linkToIdToken(t,e){return _e("not implemented")}_getReauthenticationResolver(t){return _e("not implemented")}};function kp(n,t){return l(this,null,function*(){return je(n,"POST","/v1/accounts:signUp",t)})}function Np(n,t){return l(this,null,function*(){return Pn(n,"POST","/v1/accounts:signInWithPassword",Be(n,t))})}function Mp(n,t){return l(this,null,function*(){return Pn(n,"POST","/v1/accounts:signInWithEmailLink",Be(n,t))})}function Lp(n,t){return l(this,null,function*(){return Pn(n,"POST","/v1/accounts:signInWithEmailLink",Be(n,t))})}var Tn=class n extends $t{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new n(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new n(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){return l(this,null,function*(){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return no(t,e,"signInWithPassword",Np,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Mp(t,{email:this._email,oobCode:this._password});default:q(t,"internal-error")}})}_linkToIdToken(t,e){return l(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return no(t,r,"signUpPassword",kp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Lp(t,{idToken:e,email:this._email,oobCode:this._password});default:q(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function xt(n,t){return l(this,null,function*(){return Pn(n,"POST","/v1/accounts:signInWithIdp",Be(n,t))})}var Fp="http://localhost",Yr=class n extends $t{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new n(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):q("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=e,s=Un(e,["providerId","signInMethod"]);if(!r||!i)return null;let o=new n(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){let e=this.buildRequest();return xt(t,e)}_linkToIdToken(t,e){let r=this.buildRequest();return r.idToken=e,xt(t,r)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,xt(t,e)}buildRequest(){let t={requestUri:Fp,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Pt(e)}return t}};function Up(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xp(n){let t=kt(Nt(n)).link,e=t?kt(Nt(t)).deep_link_id:null,r=kt(Nt(n)).deep_link_id;return(r?kt(Nt(r)).link:null)||r||e||t||n}var Zr=class n{constructor(t){var e,r,i,s,o,a;let c=kt(Nt(t)),u=(e=c.apiKey)!==null&&e!==void 0?e:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=Up((i=c.mode)!==null&&i!==void 0?i:null);m(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let e=xp(t);try{return new n(e)}catch{return null}}};var Ju=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,r){return Tn._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){let i=Zr.parseLink(r);return m(i,"argument-error"),Tn._fromEmailAndCode(e,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Rn=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Jr=class extends Rn{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var $p=(()=>{class n extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Yr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:r,oauthAccessToken:i}=e;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function Bp(n,t){return l(this,null,function*(){return Pn(n,"POST","/v1/accounts:signUp",Be(n,t))})}var Bt=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,r,i=!1){return l(this,null,function*(){let s=yield $e._fromIdTokenResponse(t,r,i),o=Iu(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:e})})}static _forOperation(t,e,r){return l(this,null,function*(){yield t._updateTokensIfNecessary(r,!0);let i=Iu(r);return new n({user:t,providerId:i,_tokenResponse:r,operationType:e})})}};function Iu(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var ro=class n extends ne{constructor(t,e,r,i){var s;super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new n(t,e,r,i)}};function Xu(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ro._fromErrorAndOperation(n,s,t,r):s})}function jp(n,t,e=!1){return l(this,null,function*(){let r=yield bn(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return Bt._forOperation(n,"link",r)})}function Vp(n,t,e=!1){return l(this,null,function*(){let{auth:r}=n;if(W(r.app))return Promise.reject(we(r));let i="reauthenticate";try{let s=yield bn(n,Xu(r,i,t,n),e);m(s.idToken,r,"internal-error");let o=go(s.idToken);m(o,r,"internal-error");let{sub:a}=o;return m(n.uid===a,r,"user-mismatch"),Bt._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&q(r,"user-mismatch"),s}})}function Qu(n,t,e=!1){return l(this,null,function*(){if(W(n.app))return Promise.reject(we(n));let r="signIn",i=yield Xu(n,r,t),s=yield Bt._fromIdTokenResponse(n,r,i);return e||(yield n._updateCurrentUser(s.user)),s})}function _o(n,t){return l(this,null,function*(){return Qu(Ve(n),t)})}function el(n){return l(this,null,function*(){let t=Ve(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function tl(n,t,e){return l(this,null,function*(){if(W(n.app))return Promise.reject(we(n));let r=Ve(n),o=yield no(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bp,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&el(n),c}),a=yield Bt._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Do(n,t,e){return W(n.app)?Promise.reject(we(n)):_o(he(n),Ju.credential(t,e)).catch(r=>l(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&el(n),r}))}function kn(n,t,e,r){return he(n).onIdTokenChanged(t,e,r)}function wo(n,t,e){return he(n).beforeAuthStateChanged(t,e)}function Io(n){return he(n).signOut()}var Xr="__sak";var Qr=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Xr,"1"),this.storage.removeItem(Xr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var Hp=1e3,zp=10,Wp=(()=>{class n extends Qr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wu(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=e.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);wp()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,zp):s()}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},Hp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,r){return l(this,null,function*(){yield ze(n.prototype,this,"_set").call(this,e,r),this.localCache[e]=JSON.stringify(r)})}_get(e){return l(this,null,function*(){let r=yield ze(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(r),r})}_remove(e){return l(this,null,function*(){yield ze(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return n.type="LOCAL",n})(),nl=Wp;var Gp=(()=>{class n extends Qr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})(),So=Gp;function qp(n){return Promise.all(n.map(t=>l(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var Kp=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;let i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}handleEvent(e){return l(this,null,function*(){let r=e,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),u=yield qp(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Co(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}var io=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=Co("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let v=f;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function pe(){return window}function Yp(n){pe().location.href=n}function rl(){return typeof pe().WorkerGlobalScope<"u"&&typeof pe().importScripts=="function"}function Zp(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Jp(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Xp(){return rl()?self:null}var il="firebaseLocalStorageDb",Qp=1,ei="firebaseLocalStorage",sl="fbase_key",ht=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function ii(n,t){return n.transaction([ei],t?"readwrite":"readonly").objectStore(ei)}function eg(){let n=indexedDB.deleteDatabase(il);return new ht(n).toPromise()}function so(){let n=indexedDB.open(il,Qp);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(ei,{keyPath:sl})}catch(i){e(i)}}),n.addEventListener("success",()=>l(this,null,function*(){let r=n.result;r.objectStoreNames.contains(ei)?t(r):(r.close(),yield eg(),t(yield so()))}))})}function Su(n,t,e){return l(this,null,function*(){let r=ii(n,!0).put({[sl]:t,value:e});return new ht(r).toPromise()})}function tg(n,t){return l(this,null,function*(){let e=ii(n,!1).get(t),r=yield new ht(e).toPromise();return r===void 0?null:r.value})}function Cu(n,t){let e=ii(n,!0).delete(t);return new ht(e).toPromise()}var ng=800,rg=3,ig=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield so(),this.db)})}_withRetries(e){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield e(i)}catch(i){if(r++>rg)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return rl()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Kp._getInstance(Xp()),this.receiver._subscribe("keyChanged",(e,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(e,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var e,r;if(this.activeServiceWorker=yield Zp(),!this.activeServiceWorker)return;this.sender=new io(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Jp()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let e=yield so();return yield Su(e,Xr,"1"),yield Cu(e,Xr),!0}catch{}return!1})}_withPendingWrite(e){return l(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>Su(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)}))})}_get(e){return l(this,null,function*(){let r=yield this._withRetries(i=>tg(i,e));return this.localCache[e]=r,r})}_remove(e){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Cu(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return l(this,null,function*(){let e=yield this._withRetries(s=>{let o=ii(s,!1).getAll();return new ht(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(e.length!==0)for(let{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),ng)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),ol=ig;var WD=Ku("rcb"),GD=new dt(3e4,6e4);function al(n,t){return t?De(t):(m(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var On=class extends $t{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return xt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return xt(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function sg(n){return Qu(n.auth,new On(n),n.bypassAuthState)}function og(n){let{auth:t,user:e}=n;return m(e,t,"internal-error"),Vp(e,new On(n),n.bypassAuthState)}function ag(n){return l(this,null,function*(){let{auth:t,user:e}=n;return m(e,t,"internal-error"),jp(e,new On(n),n.bypassAuthState)})}var ti=class{constructor(t,e,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>l(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(t){return l(this,null,function*(){let{urlResponse:e,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:e,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sg;case"linkViaPopup":case"linkViaRedirect":return ag;case"reauthViaPopup":case"reauthViaRedirect":return og;default:q(this.auth,"internal-error")}}resolve(t){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var cg=new dt(2e3,1e4);function bo(n,t,e){return l(this,null,function*(){if(W(n.app))return Promise.reject(ie(n,"operation-not-supported-in-this-environment"));let r=Ve(n);op(n,t,Rn);let i=al(r,e);return new ug(r,"signInViaPopup",t,i).executeNotNull()})}var ug=(()=>{class n extends ti{constructor(e,r,i,s,o){super(e,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return l(this,null,function*(){let e=yield this.execute();return m(e,this.auth,"internal-error"),e})}onExecution(){return l(this,null,function*(){Ie(this.filter.length===1,"Popup operations only handle one event");let e=Co();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ie(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let e=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ie(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cg.get())};e()}}n.currentPopupAction=null;return n})(),lg="pendingRedirect",jr=new Map,oo=class n extends ti{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let t=jr.get(this.auth._key());if(!t){try{let r=(yield dg(this.resolver,this.auth))?yield ze(n.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}jr.set(this.auth._key(),t)}return this.bypassAuthState||jr.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return l(this,null,function*(){if(t.type==="signInViaRedirect")return ze(n.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,ze(n.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function dg(n,t){return l(this,null,function*(){let e=pg(t),r=fg(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(e))==="true";return yield r._remove(e),i})}function hg(n,t){jr.set(n._key(),t)}function fg(n){return De(n._redirectPersistence)}function pg(n){return Br(lg,n.config.apiKey,n.name)}function gg(n,t,e=!1){return l(this,null,function*(){if(W(n.app))return Promise.reject(we(n));let r=Ve(n),i=al(r,t),o=yield new oo(r,i,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})}var mg=10*60*1e3,ao=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vg(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!cl(t)){let i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(ie(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mg&&this.cachedEventUids.clear(),this.cachedEventUids.has(bu(t))}saveEventToCache(t){this.cachedEventUids.add(bu(t)),this.lastProcessedEventTime=Date.now()}};function bu(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function cl({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function vg(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cl(n);default:return!1}}function yg(e){return l(this,arguments,function*(n,t={}){return je(n,"GET","/v1/projects",t)})}var Eg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_g=/^https?/;function Dg(n){return l(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:t}=yield yg(n);for(let e of t)try{if(wg(e))return}catch{}q(n,"unauthorized-domain")})}function wg(n){let t=Ws(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===r}if(!_g.test(e))return!1;if(Eg.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Ig=new dt(3e4,6e4);function Au(){let n=pe().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Sg(n){return new Promise((t,e)=>{var r,i,s;function o(){Au(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Au(),e(ie(n,"network-request-failed"))},timeout:Ig.get()})}if(!((i=(r=pe().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=pe().gapi)===null||s===void 0)&&s.load)o();else{let a=Ku("iframefcb");return pe()[a]=()=>{gapi.load?o():e(ie(n,"network-request-failed"))},qu(`${Ap()}?onload=${a}`).catch(c=>e(c))}}).catch(t=>{throw Vr=null,t})}var Vr=null;function Cg(n){return Vr=Vr||Sg(n),Vr}var bg=new dt(5e3,15e3),Ag="__/auth/iframe",Tg="emulator/auth/iframe",Rg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Og=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pg(n){let t=n.config;m(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?fo(t,Tg):`https://${n.config.authDomain}/${Ag}`,r={apiKey:t.apiKey,appName:n.name,v:Mt},i=Og.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${e}?${Pt(r).slice(1)}`}function kg(n){return l(this,null,function*(){let t=yield Cg(n),e=pe().gapi;return m(e,n,"internal-error"),t.open({where:document.body,url:Pg(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rg,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ie(n,"network-request-failed"),a=pe().setTimeout(()=>{s(o)},bg.get());function c(){pe().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Ng={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mg=500,Lg=600,Fg="_blank",Ug="http://localhost",ni=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function xg(n,t,e,r=Mg,i=Lg){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Ng),{width:r.toString(),height:i.toString(),top:s,left:o}),u=F().toLowerCase();e&&(a=Bu(u)?Fg:e),xu(u)&&(t=t||Ug,c.scrollbars="yes");let d=Object.entries(c).reduce((v,[E,A])=>`${v}${E}=${A},`,"");if(Dp(u)&&a!=="_self")return $g(t||"",a),new ni(null);let f=window.open(t||"",a,d);m(f,n,"popup-blocked");try{f.focus()}catch{}return new ni(f)}function $g(n,t){let e=document.createElement("a");e.href=n,e.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}var Bg="__/auth/handler",jg="emulator/auth/handler",Vg=encodeURIComponent("fac");function Tu(n,t,e,r,i,s){return l(this,null,function*(){m(n.config.authDomain,n,"auth-domain-config-required"),m(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Mt,eventId:i};if(t instanceof Rn){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",Qc(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(t instanceof Jr){let d=t.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${Vg}=${encodeURIComponent(c)}`:"";return`${Hg(n)}?${Pt(a).slice(1)}${u}`})}function Hg({config:n}){return n.emulator?fo(n,jg):`https://${n.authDomain}/${Bg}`}var zs="webStorageSupport",co=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=So,this._completeRedirectFn=gg,this._overrideRedirectResult=hg}_openPopup(t,e,r,i){return l(this,null,function*(){var s;Ie((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Tu(t,e,r,Ws(),i);return xg(t,o,Co())})}_openRedirect(t,e,r,i){return l(this,null,function*(){yield this._originValidation(t);let s=yield Tu(t,e,r,Ws(),i);return Yp(s),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(Ie(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}initAndGetManager(t){return l(this,null,function*(){let e=yield kg(t),r=new ao(t);return e.register("authEvent",i=>(m(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(zs,{type:zs},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[zs];o!==void 0&&e(!!o),q(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Dg(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Wu()||$u()||vo()}},ul=co;var Ru="@firebase/auth",Ou="1.10.1";var uo=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zg(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wg(n){ye(new z("auth",(t,{options:e})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;m(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gu(n)},u=new Xs(r,i,s,c);return Rp(u,e),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),ye(new z("auth-internal",t=>{let e=Ve(t.getProvider("auth").getImmediate());return(r=>new uo(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),k(Ru,Ou,zg(n)),k(Ru,Ou,"esm2017")}var Gg=5*60,qg=Ss("authIdTokenMaxAge")||Gg,Pu=null,Kg=n=>t=>l(void 0,null,function*(){let e=t&&(yield t.getIdTokenResult()),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>qg)return;let i=e?.token;Pu!==i&&(Pu=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ao(n=Dn()){let t=Mr(n,"auth");if(t.isInitialized())return t.getImmediate();let e=yo(n,{popupRedirectResolver:ul,persistence:[ol,nl,So]}),r=Ss("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Kg(s.toString());wo(e,o,()=>o(e.currentUser)),kn(e,a=>o(a))}}let i=ws("auth");return i&&Eo(e,`http://${i}`),e}function Yg(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}Cp({loadJS(n){return new Promise((t,e)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{let s=ie("internal-error");s.customData=i,e(s)},r.type="text/javascript",r.charset="UTF-8",Yg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wg("Browser");var Lm=new Map,Fm={activated:!1,tokenObservers:[]},Um={initialized:!1,enabled:!1};function se(n){return Lm.get(n)||Object.assign({},Fm)}function gl(){return Um}var xm="https://content-firebaseappcheck.googleapis.com/v1";var $m="exchangeDebugToken",hl={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Rw=24*60*60*1e3;var Oo=class{constructor(t,e,r,i,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return l(this,null,function*(){this.stop();try{this.pending=new at,this.pending.promise.catch(e=>{}),yield Bm(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new at,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function Bm(n){return new Promise(t=>{setTimeout(t,n)})}var jm={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},He=new re("appCheck","AppCheck",jm);function ml(n){if(!se(n).activated)throw He.create("use-before-activation",{appName:n.name})}function vl(r,i){return l(this,arguments,function*({url:n,body:t},e){let s={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){let E=yield o.getHeartbeatsHeader();E&&(s["X-Firebase-Client"]=E)}let a={method:"POST",body:JSON.stringify(t),headers:s},c;try{c=yield fetch(n,a)}catch(E){throw He.create("fetch-network-error",{originalErrorMessage:E?.message})}if(c.status!==200)throw He.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(E){throw He.create("fetch-parse-error",{originalErrorMessage:E?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw He.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+f,issuedAtTimeMillis:v}})}function yl(n,t){let{projectId:e,appId:r,apiKey:i}=n.options;return{url:`${xm}/projects/${e}/apps/${r}:${$m}?key=${i}`,body:{debug_token:t}}}var Vm="firebase-app-check-database",Hm=1,Po="firebase-app-check-store";var si=null;function zm(){return si||(si=new Promise((n,t)=>{try{let e=indexedDB.open(Vm,Hm);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var i;t(He.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},e.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Po,{keyPath:"compositeKey"})}}}catch(e){t(He.create("storage-open",{originalErrorMessage:e?.message}))}}),si)}function Wm(n,t){return Gm(qm(n),t)}function Gm(n,t){return l(this,null,function*(){let r=(yield zm()).transaction(Po,"readwrite"),s=r.objectStore(Po).put({compositeKey:n,value:t});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(He.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function qm(n){return`${n.options.appId}-${n.name}`}var Nn=new Fe("@firebase/app-check");function To(n,t){return Pr()?Wm(n,t).catch(e=>{Nn.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function El(){return gl().enabled}function _l(){return l(this,null,function*(){let n=gl();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Km={error:"UNKNOWN_ERROR"};function Ym(n){return Tr.encodeString(JSON.stringify(n),!1)}function ko(n,t=!1,e=!1){return l(this,null,function*(){let r=n.app;ml(r);let i=se(r),s=i.token,o;if(s&&!Mn(s)&&(i.token=void 0,s=void 0),!s){let u=yield i.cachedTokenPromise;u&&(Mn(u)?s=u:yield To(r,void 0))}if(!t&&s&&Mn(s))return{token:s.token};let a=!1;if(El())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=vl(yl(r,yield _l()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield To(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Nn.warn(u.message):e&&Nn.error(u),Ro(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield se(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Nn.warn(u.message):e&&Nn.error(u),o=u}let c;return s?o?Mn(s)?c={token:s.token,internalError:o}:c=Ro(o):(c={token:s.token},i.token=s,yield To(r,s)):c=Ro(o),a&&Qm(r,c),c})}function Zm(n){return l(this,null,function*(){let t=n.app;ml(t);let{provider:e}=se(t);if(El()){let r=yield _l(),{token:i}=yield vl(yl(t,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield e.getToken();return{token:r}}})}function Jm(n,t,e,r){let{app:i}=n,s=se(i),o={next:e,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Mn(s.token)){let a=s.token;Promise.resolve().then(()=>{e({token:a.token}),fl(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>fl(n))}function Dl(n,t){let e=se(n),r=e.tokenObservers.filter(i=>i.next!==t);r.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function fl(n){let{app:t}=n,e=se(t),r=e.tokenRefresher;r||(r=Xm(n),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function Xm(n){let{app:t}=n;return new Oo(()=>l(this,null,function*(){let e=se(t),r;if(e.token?r=yield ko(n,!0):r=yield ko(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let e=se(t);if(e.token){let r=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,i=e.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},hl.RETRIAL_MIN_WAIT,hl.RETRIAL_MAX_WAIT)}function Qm(n,t){let e=se(n).tokenObservers;for(let r of e)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Mn(n){return n.expireTimeMillis-Date.now()>0}function Ro(n){return{token:Ym(Km),error:n}}var No=class{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:t}=se(this.app);for(let e of t)Dl(this.app,e.next);return Promise.resolve()}};function ev(n,t){return new No(n,t)}function tv(n){return{getToken:t=>ko(n,t),getLimitedUseToken:()=>Zm(n),addTokenListener:t=>Jm(n,"INTERNAL",t),removeTokenListener:t=>Dl(n.app,t)}}var nv="@firebase/app-check",rv="0.8.13";var iv="app-check",pl="app-check-internal";function sv(){ye(new z(iv,n=>{let t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return ev(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(pl).initialize()})),ye(new z(pl,n=>{let t=n.getProvider("app-check").getImmediate();return tv(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),k(nv,rv)}sv();var ov="app-check";var oi=class{constructor(){return Ur(ov)}};var av=["localhost","0.0.0.0","127.0.0.1"],Vw=typeof window<"u"&&av.includes(window.location.hostname);function wl(n){return new We(function(t){var e=kn(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:e}})}var Il="auth",Ln=class{constructor(t){return t}},Mo=class{constructor(){return Ur(Il)}};var Lo=new I("angularfire2.auth-instances");function cv(n,t){let e=js(Il,n,t);return e&&new Ln(e)}function uv(n){return(t,e)=>{let r=t.runOutsideAngular(()=>n(e));return new Ln(r)}}var lv={provide:Mo,deps:[[new Ke,Lo]]},dv={provide:Ln,useFactory:cv,deps:[[new Ke,Lo],lt]};function iI(n,...t){return k("angularfire",Ft.full,"auth"),mt([dv,lv,{provide:Lo,useFactory:uv(n),multi:!0,deps:[L,J,Ut,wn,[new Ke,oi],...t]}])}var sI=Ee(wl,!0);var oI=Ee(Ao,!0);var aI=Ee(Do,!0,2);var cI=Ee(bo,!0,2);var uI=Ee(Io,!0,2);export{me as a,Ol as b,Pa as c,Pl as d,kl as e,ka as f,ql as g,M_ as h,L_ as i,F as j,F_ as k,ne as l,Le as m,he as n,z as o,S as p,Fe as q,ye as r,Mr as s,W as t,Mt as u,Dn as v,k as w,Ft as x,js as y,Ur as z,Ut as A,Ee as B,lt as C,wn as D,FD as E,UD as F,oi as G,$p as H,tl as I,Ln as J,Mo as K,iI as L,sI as M,oI as N,aI as O,cI as P,uI as Q,de as R,us as S,te as T,Ar as U,Th as V,Ph as W,kh as X};

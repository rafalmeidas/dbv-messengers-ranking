import{a as N}from"./chunk-ODATBWDO.js";import"./chunk-K7CVF7FB.js";import{a as d}from"./chunk-5E5BFI5K.js";import{a as V}from"./chunk-AQ4F37K2.js";import"./chunk-5HYU2PKZ.js";import{b as _,c as x,e as E,f as I,j as O,l as D,m as A,o as P,p as R,q as w,r as L,t as T}from"./chunk-2KAAUVTJ.js";import"./chunk-PXAYXCKN.js";import{L as y,N as M,R as F}from"./chunk-PGADE6W6.js";import{$a as s,Ha as l,Qa as u,Rb as U,Ua as h,Ub as f,aa as o,cb as n,db as m,eb as c,f as g,gb as C,nb as a,ob as S,pb as b}from"./chunk-LWKRYI56.js";var v=class i{_unitService=o(d);units=[];constructor(){this._unitService.getAllUnits().subscribe(e=>this.units=e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=u({type:i,selectors:[["app-unit-list"]],decls:1,vars:1,consts:[["title","Unidades","btnNewUrl","/unit/create","btnEditUrl","/unit/edit",3,"listArray"]],template:function(t,r){t&1&&c(0,"app-list",0),t&2&&s("listArray",r.units)},dependencies:[f,V],encapsulation:2})};function B(i,e){if(i&1&&(n(0,"option",5),a(1),m()),i&2){let t=e.$implicit;s("value",t.uid),l(),b(" ",t.name," ")}}var p=class i{fb=o(L);unitService=o(d);userService=o(N);route=o(y);router=o(M);form=this.fb.group({name:["",x.required],counselors:[[]]});isEditMode=!1;unitId=null;counselors=[];constructor(){this.userService.getAllUsers().subscribe(e=>{this.counselors=e}),this.route.paramMap.subscribe(e=>{this.unitId=e.get("id"),this.isEditMode=!!this.unitId,this.unitId&&this.unitService.getUnitById(this.unitId).subscribe(t=>{t&&this.form.patchValue(t)})})}submit(){return g(this,null,function*(){this.form.invalid||(this.isEditMode&&this.unitId?yield this.unitService.updateUnit(this.unitId,this.form.value):yield this.unitService.createUnit(this.form.value),this.router.navigate(["/unit"]))})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=u({type:i,selectors:[["app-unit-form"]],decls:12,vars:3,consts:[[3,"ngSubmit","formGroup"],["formControlName","name"],["formControlName","counselors","multiple",""],[3,"value",4,"ngFor","ngForOf"],["type","submit"],[3,"value"]],template:function(t,r){t&1&&(n(0,"h1"),a(1),m(),n(2,"form",0),C("ngSubmit",function(){return r.submit()}),n(3,"label"),a(4," Name: "),c(5,"input",1),m(),n(6,"label"),a(7," Counselors: "),n(8,"select",2),h(9,B,2,2,"option",3),m()(),n(10,"button",4),a(11,"Save"),m()()),t&2&&(l(),S(r.isEditMode?"Editar unidade":"Criar unidade"),l(),s("formGroup",r.form),l(7),s("ngForOf",r.counselors))},dependencies:[f,U,T,O,P,w,_,R,E,I,D,A,F],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{color:var(--color-text-high)}[_nghost-%COMP%] > form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}"]})};var at=[{path:"",component:v},{path:"create",component:p},{path:"edit/:id",component:p}];export{at as ROUTES};

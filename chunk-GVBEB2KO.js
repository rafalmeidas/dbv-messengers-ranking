import{a as L}from"./chunk-AQ77EFHE.js";import{a as j}from"./chunk-5E5BFI5K.js";import{a as B}from"./chunk-67CCWEU7.js";import{c as P}from"./chunk-AFRJWWLZ.js";import{a as w}from"./chunk-S4VB254E.js";import{a as f,b as k,e as C,f as S,g as _,i as I,j as M}from"./chunk-5HYU2PKZ.js";import{b as l,d as N,e as F,i as q,k as D,l as O,q as E,s as x}from"./chunk-7NNS4R7G.js";import{a as A}from"./chunk-PXAYXCKN.js";import{L as h,N as y}from"./chunk-PGADE6W6.js";import{$a as s,Ha as r,Qa as m,W as U,aa as t,cb as u,db as d,eb as p,f as v,gb as R,nb as b,pb as T}from"./chunk-LWKRYI56.js";var a=class o{constructor(){}firestore=t(_);getAllAssignRankingToUnit(){let n=f(this.firestore,"assign-ranking-to-unit");return I(n,{idField:"id"})}getAssignRankingToUnitById(n){let i=k(this.firestore,`assign-ranking-to-unit/${n}`);return M(i)}createAssignRankingToUnit(n){let i=f(this.firestore,"assign-ranking-to-unit");return S(i,n)}updateAssignRankingToUnit(n,i){let e=k(this.firestore,`assign-ranking-to-unit/${n}`);return C(e,i)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=U({token:o,factory:o.\u0275fac,providedIn:"root"})};var c=class o{_assignRankingToUnitService=t(a);assignRankingToUnit=[];constructor(){this._assignRankingToUnitService.getAllAssignRankingToUnit().subscribe(n=>this.assignRankingToUnit=n)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=m({type:o,selectors:[["app-assign-ranking-to-unit-list"]],decls:1,vars:1,consts:[["title","Vincular Ranking","btnNewUrl","/assign-ranking-to-unit/create","btnEditUrl","/assign-ranking-to-unit/edit",3,"listArray"]],template:function(i,e){i&1&&p(0,"app-list",0),i&2&&s("listArray",e.assignRankingToUnit)},dependencies:[w],encapsulation:2})};var g=class o{_fb=t(E);_unitService=t(j);_route=t(h);_router=t(y);_assignRankingToUnitService=t(a);_questionService=t(B);form=this._fb.group({name:["",l.required],unitId:["",l.required],questionnaireId:["",l.required]});isEditMode=!1;assignRankingToUnitId=null;units=[];questionnaires=[];constructor(){this._unitService.getAllUnits().subscribe(n=>this.units=n),this._questionService.getAllQuestionnaires().subscribe(n=>this.questionnaires=n),this._route.paramMap.subscribe(n=>{this.assignRankingToUnitId=n.get("id"),this.isEditMode=!!this.assignRankingToUnitId,this.assignRankingToUnitId&&this._assignRankingToUnitService.getAssignRankingToUnitById(this.assignRankingToUnitId).subscribe(i=>{i&&this.form.patchValue(i)})})}submit(){return v(this,null,function*(){this.form.invalid||(this.isEditMode&&this.assignRankingToUnitId?yield this._assignRankingToUnitService.updateAssignRankingToUnit(this.assignRankingToUnitId,this.form.value):yield this._assignRankingToUnitService.createAssignRankingToUnit(this.form.value),this._router.navigate(["/assign-ranking-to-unit"]))})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=m({type:o,selectors:[["app-assign-ranking-to-unit-form"]],decls:7,vars:5,consts:[[3,"ngSubmit","formGroup"],["label","Nome do vinculo","formControlName","name","name","name","placeholder","Nome do vinculo"],["label","Selecione a unidade","formControlName","unitId","name","unitId","placeholder","Selecione a unidade","labelKey","name","valueKey","id",3,"options"],["label","Selecione a o ranking","formControlName","questionnaireId","name","questionnaireId","placeholder","Selecione a o ranking","labelKey","name","valueKey","id",3,"options"],["type","submit","label","Salvar",3,"disabled"]],template:function(i,e){i&1&&(u(0,"h1"),b(1),d(),u(2,"form",0),R("ngSubmit",function(){return e.submit()}),p(3,"app-input",1)(4,"app-select",2)(5,"app-select",3)(6,"app-button",4),d()),i&2&&(r(),T(" ",e.isEditMode?"Editar vinculo de ranking":"Criar vinculo de ranking",`
`),r(),s("formGroup",e.form),r(2),s("options",e.units),r(),s("options",e.questionnaires),r(),s("disabled",e.form.invalid))},dependencies:[x,q,N,F,D,O,A,L,P],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{color:var(--color-text-high)}[_nghost-%COMP%] > form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}"]})};var vn=[{path:"",component:c},{path:"create",component:g},{path:"edit/:id",component:g}];export{vn as ROUTES};

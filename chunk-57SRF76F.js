import{a as h}from"./chunk-KGQJCJMR.js";import{a as J}from"./chunk-2RDHF7XI.js";import{a as z}from"./chunk-5E5BFI5K.js";import{a as X}from"./chunk-67CCWEU7.js";import{a as Q,b as W,c as j}from"./chunk-ARHQRNF2.js";import{a as H}from"./chunk-AQ4F37K2.js";import"./chunk-5HYU2PKZ.js";import{a as x,c as d,e as f,f as E,i as q,j as D,l as L,m as V,r as B,s as G,t as K}from"./chunk-2KAAUVTJ.js";import{a as F}from"./chunk-PXAYXCKN.js";import{D as I,L as O,N}from"./chunk-PGADE6W6.js";import{$a as r,Ha as a,Qa as s,Ta as M,a as b,aa as t,b as _,cb as c,db as l,eb as p,f as T,gb as u,ka as y,nb as R,pb as S,qa as U,qb as w,rb as A,sb as P}from"./chunk-LWKRYI56.js";var v=class o{_assignRankingToUnitService=t(h);assignRankingToUnit=[];constructor(){this._assignRankingToUnitService.getAllAssignRankingToUnit().subscribe(e=>this.assignRankingToUnit=e)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=s({type:o,selectors:[["app-assign-ranking-to-unit-list"]],decls:1,vars:1,consts:[["title","Vincular Ranking","btnNewUrl","/assign-ranking-to-unit/create","btnEditUrl","/assign-ranking-to-unit/edit",3,"listArray"]],template:function(i,n){i&1&&p(0,"app-list",0),i&2&&r("listArray",n.assignRankingToUnit)},dependencies:[H],encapsulation:2})};var C=class o extends Q{checkedChange=new U;onToggle(e){this.value=e.target.checked,this.onChange(this.value),this.onTouched(),this.checkedChange.emit(this.value)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=y(o)))(n||o)}})();static \u0275cmp=s({type:o,selectors:[["app-toggle-switch"]],outputs:{checkedChange:"checkedChange"},features:[M],decls:4,vars:5,consts:[[3,"label","focused","disabled","error"],[1,"switch"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"slider"]],template:function(i,n){i&1&&(c(0,"app-form-group",0)(1,"label",1)(2,"input",2),P("ngModelChange",function(g){return A(n.value,g)||(n.value=g),g}),u("change",function(g){return n.onToggle(g)}),l(),p(3,"span",3),l()()),i&2&&(r("label",n.label)("focused",n.focused)("disabled",n.disabled)("error",n.error),a(2),w("ngModel",n.value))},dependencies:[G,x,f,q,W],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:52px;height:28px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-primary)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(24px);background-color:var(--color-on-primary)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{outline:2px solid var(--color-outline);outline-offset:2px}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--color-outline-variant);transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:20px;width:20px;left:4px;bottom:4px;background-color:var(--color-text-high);transition:.4s;border-radius:50%}']})};var m=class o{_fb=t(B);_unitService=t(z);_route=t(O);_router=t(N);_auth=t(I);_assignRankingToUnitService=t(h);_questionService=t(X);form=this._fb.group({name:["",d.required],unitId:["",d.required],questionnaireId:["",d.required],active:[!1]});isEditMode=!1;assignRankingToUnitId=null;units=[];questionnaires=[];constructor(){this._unitService.getAllUnits().subscribe(e=>this.units=e),this._questionService.getAllQuestionnaires().subscribe(e=>this.questionnaires=e),this._route.paramMap.subscribe(e=>{this.assignRankingToUnitId=e.get("id"),this.isEditMode=!!this.assignRankingToUnitId,this.assignRankingToUnitId&&this._assignRankingToUnitService.getAssignRankingToUnitById(this.assignRankingToUnitId).subscribe(i=>{i&&this.form.patchValue(i)})})}submit(){return T(this,null,function*(){this.form.invalid||(this.isEditMode&&this.assignRankingToUnitId?yield this._assignRankingToUnitService.updateAssignRankingToUnit(this.assignRankingToUnitId,this.form.value):yield this._assignRankingToUnitService.createAssignRankingToUnit(_(b({},this.form.value),{uid:this._auth.currentUser?.uid})),this._router.navigate(["/assign-ranking-to-unit"]))})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=s({type:o,selectors:[["app-assign-ranking-to-unit-form"]],decls:8,vars:5,consts:[[3,"ngSubmit","formGroup"],["label","Nome do vinculo","formControlName","name","name","name","placeholder","Nome do vinculo"],["label","Selecione a unidade","formControlName","unitId","name","unitId","placeholder","Selecione a unidade","labelKey","name","valueKey","id",3,"options"],["label","Selecione a o ranking","formControlName","questionnaireId","name","questionnaireId","placeholder","Selecione a o ranking","labelKey","name","valueKey","id",3,"options"],["label","Ativo?","formControlName","active"],["type","submit","label","Salvar",3,"disabled"]],template:function(i,n){i&1&&(c(0,"h1"),R(1),l(),c(2,"form",0),u("ngSubmit",function(){return n.submit()}),p(3,"app-input",1)(4,"app-select",2)(5,"app-select",3)(6,"app-toggle-switch",4)(7,"app-button",5),l()),i&2&&(a(),S(" ",n.isEditMode?"Editar vinculo de ranking":"Criar vinculo de ranking",`
`),a(),r("formGroup",n.form),a(2),r("options",n.units),a(),r("options",n.questionnaires),a(2),r("disabled",n.form.invalid))},dependencies:[C,K,D,f,E,L,V,F,J,j],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{color:var(--color-text-high)}[_nghost-%COMP%] > form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}"]})};var An=[{path:"",component:v},{path:"create",component:m},{path:"edit/:id",component:m}];export{An as ROUTES};

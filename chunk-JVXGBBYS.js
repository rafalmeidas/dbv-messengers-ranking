import{a as g,b as P}from"./chunk-H7YSBTCS.js";import{a as x}from"./chunk-DOF7J37M.js";import{a as w}from"./chunk-OAC7PAHN.js";import{a as D}from"./chunk-6UBFDCFW.js";import{a as E}from"./chunk-E6ZAZPZW.js";import"./chunk-7Y7RURYF.js";import{a as I}from"./chunk-FPHSLIA5.js";import"./chunk-6H5SRDA6.js";import{c as l,e as S,f as _,j as A,l as N,m as M,r as q,t as F}from"./chunk-ICHD4X5G.js";import{a as C}from"./chunk-TCTIQOOR.js";import{D as T,L as b,N as y}from"./chunk-6C2OLKOO.js";import{$a as o,Ha as a,Qa as m,a as f,aa as t,b as v,cb as c,db as d,eb as p,f as k,jb as h,sb as U,ub as R}from"./chunk-R5GXIUDZ.js";var u=class s{_assignRankingToUnitService=t(g);assignRankingToUnit=[];constructor(){this._assignRankingToUnitService.getAllAssignRankingToUnit().subscribe(n=>this.assignRankingToUnit=n)}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=m({type:s,selectors:[["app-assign-ranking-to-unit-list"]],decls:1,vars:2,consts:[["btnNewUrl","/assign-ranking-to-unit/create","btnEditUrl","/assign-ranking-to-unit/edit",3,"title","listArray"]],template:function(i,e){i&1&&p(0,"app-list",0),i&2&&o("title","Vincular Ranking")("listArray",e.assignRankingToUnit)},dependencies:[I],encapsulation:2})};var r=class s{_fb=t(q);_unitService=t(w);_route=t(b);_router=t(y);_auth=t(T);_assignRankingToUnitService=t(g);_questionService=t(D);form=this._fb.group({name:["",l.required],unitUid:["",l.required],questionnaireId:["",l.required],active:[!1]});isEditMode=!1;assignRankingTounitUid=null;units=[];questionnaires=[];constructor(){this._unitService.getAllUnits().subscribe(n=>this.units=n),this._questionService.getAllQuestionnaires().subscribe(n=>this.questionnaires=n),this._route.paramMap.subscribe(n=>{this.assignRankingTounitUid=n.get("id"),this.isEditMode=!!this.assignRankingTounitUid,this.assignRankingTounitUid&&this._assignRankingToUnitService.getAssignRankingToUnitById(this.assignRankingTounitUid).subscribe(i=>{i&&this.form.patchValue(i)})})}submit(){return k(this,null,function*(){this.form.invalid||(this.isEditMode&&this.assignRankingTounitUid?yield this._assignRankingToUnitService.updateAssignRankingToUnit(this.assignRankingTounitUid,this.form.value):yield this._assignRankingToUnitService.createAssignRankingToUnit(v(f({},this.form.value),{uid:this._auth.currentUser?.uid})),this._router.navigate(["/assign-ranking-to-unit"]))})}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=m({type:s,selectors:[["app-assign-ranking-to-unit-form"]],decls:8,vars:5,consts:[[3,"ngSubmit","formGroup"],["label","Nome do vinculo","formControlName","name","name","name","placeholder","Nome do vinculo"],["label","Selecione a unidade","formControlName","unitUid","name","unitUid","placeholder","Selecione a unidade","labelKey","name","valueKey","id",3,"options"],["label","Selecione a o ranking","formControlName","questionnaireId","name","questionnaireId","placeholder","Selecione a o ranking","labelKey","name","valueKey","id",3,"options"],["label","Ativo?","formControlName","active"],["type","submit","label","Salvar",3,"disabled"]],template:function(i,e){i&1&&(c(0,"h1"),U(1),d(),c(2,"form",0),h("ngSubmit",function(){return e.submit()}),p(3,"app-input",1)(4,"app-select",2)(5,"app-select",3)(6,"app-toggle-switch",4)(7,"app-button",5),d()),i&2&&(a(),R(" ",e.isEditMode?"Editar vinculo de ranking":"Criar vinculo de ranking",`
`),a(),o("formGroup",e.form),a(2),o("options",e.units),a(),o("options",e.questionnaires),a(2),o("disabled",e.form.invalid))},dependencies:[P,F,A,S,_,N,M,C,x,E],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{color:var(--color-text-high)}[_nghost-%COMP%] > form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}"]})};var pi=[{path:"",component:u},{path:"create",component:r},{path:"edit/:id",component:r}];export{pi as ROUTES};

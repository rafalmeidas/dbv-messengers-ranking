import{a as v}from"./chunk-AOISIHVW.js";import{a as _}from"./chunk-SS6XNNEI.js";import{c as G}from"./chunk-AXK5T5EB.js";import"./chunk-KKRSEMEC.js";import{b as r,d as P,e as M,f as O,g as l,i as b,k as w,l as y,s as S}from"./chunk-RNFB6XQL.js";import{a as h}from"./chunk-ZC6LOVEO.js";import{T as f}from"./chunk-KGZEMMMY.js";import{Ha as p,Ra as d,aa as i,ab as g,db as a,eb as s,f as o,fb as C,hb as m}from"./chunk-ZOQ26LPS.js";var N=class c{formGroup=new O({name:new l("",[r.required]),email:new l("",[r.required,r.email]),password:new l("",[r.required,r.minLength(6)])});authService=i(_);userService=i(v);router=i(f);get name(){return this.formGroup.get("name")?.value}get email(){return this.formGroup.get("email")?.value}get password(){return this.formGroup.get("password")?.value}register(){return o(this,null,function*(){let e=yield this.authService.register(this.email,this.password);this.saveCredentials(e,this.name)})}registerWithGoogle(){return o(this,null,function*(){let e=yield this.authService.loginWithGoogle();this.saveCredentials(e,e?.user.displayName??"")})}saveCredentials(e,t){return o(this,null,function*(){e&&(yield this.userService.setUserRole("user",e.user.uid,t),this.router.navigateByUrl("/home"))})}navigateToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=d({type:c,selectors:[["app-register"]],decls:9,vars:2,consts:[[1,"register"],[3,"ngSubmit","formGroup"],["label","Nome","formControlName","name","name","name","placeholder","Nome"],["label","E-mail","formControlName","email","name","email","type","email","placeholder","Email"],["label","Senha","formControlName","password","name","password","type","password","placeholder","Senha"],["type","submit","label","Cadastrar",3,"disabled"],["variant","outline","label","Cadastre-se com Google",3,"onClick"],["label","J\xE1 \xE9 cadastrado? Ir para Login",3,"onClick"]],template:function(t,n){t&1&&(a(0,"section",0)(1,"form",1),m("ngSubmit",function(){return n.register()}),C(2,"app-input",2)(3,"app-input",3)(4,"app-input",4)(5,"app-button",5),s(),a(6,"article")(7,"app-button",6),m("onClick",function(){return n.registerWithGoogle()}),s(),a(8,"app-button",7),m("onClick",function(){return n.navigateToLogin()}),s()()()),t&2&&(p(),g("formGroup",n.formGroup),p(4),g("disabled",n.formGroup.invalid))},dependencies:[S,b,P,M,w,y,h,G],styles:["[_nghost-%COMP%]   .register[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}[_nghost-%COMP%]   .register[_ngcontent-%COMP%] > form[_ngcontent-%COMP%], [_nghost-%COMP%]   .register[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{padding:16px;border-radius:16px;width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .register[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{gap:16px;background:var(--theme-surface);border:1px solid var(--color-outline)}[_nghost-%COMP%]   .register[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{gap:8px}@media screen and (min-width: 768px){[_nghost-%COMP%]   .register[_ngcontent-%COMP%] > form[_ngcontent-%COMP%], [_nghost-%COMP%]   .register[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .register[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{gap:8px}}@media screen and (min-width: 1024px){[_nghost-%COMP%]   .register[_ngcontent-%COMP%] > form[_ngcontent-%COMP%], [_nghost-%COMP%]   .register[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{width:700px}}"]})};export{N as RegisterComponent};

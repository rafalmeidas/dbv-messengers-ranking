import{a as en}from"./chunk-2RDHF7XI.js";import{a as nn}from"./chunk-5E5BFI5K.js";import{a as tn}from"./chunk-67CCWEU7.js";import{a as X,b as Y,c as Z}from"./chunk-ARHQRNF2.js";import{a as $}from"./chunk-S4VB254E.js";import{a as b,b as C,e as D,f as E,g as q,i as L,j as B}from"./chunk-5HYU2PKZ.js";import{a as V,c as f,e as h,f as j,i as G,j as K,l as Q,m as W,r as H,s as z,t as J}from"./chunk-2KAAUVTJ.js";import{a as x}from"./chunk-PXAYXCKN.js";import{L as F,N}from"./chunk-PGADE6W6.js";import{$a as r,Ha as s,Qa as a,Ta as S,W as R,aa as o,cb as m,db as l,eb as g,f as U,gb as d,ka as _,nb as A,pb as w,qa as M,qb as I,rb as O,sb as P}from"./chunk-LWKRYI56.js";var c=class t{constructor(){}firestore=o(q);getAllAssignRankingToUnit(){let n=b(this.firestore,"assign-ranking-to-unit");return L(n,{idField:"id"})}getAssignRankingToUnitById(n){let i=C(this.firestore,`assign-ranking-to-unit/${n}`);return B(i)}createAssignRankingToUnit(n){let i=b(this.firestore,"assign-ranking-to-unit");return E(i,n)}updateAssignRankingToUnit(n,i){let e=C(this.firestore,`assign-ranking-to-unit/${n}`);return D(e,i)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})};var v=class t{_assignRankingToUnitService=o(c);assignRankingToUnit=[];constructor(){this._assignRankingToUnitService.getAllAssignRankingToUnit().subscribe(n=>this.assignRankingToUnit=n)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=a({type:t,selectors:[["app-assign-ranking-to-unit-list"]],decls:1,vars:1,consts:[["title","Vincular Ranking","btnNewUrl","/assign-ranking-to-unit/create","btnEditUrl","/assign-ranking-to-unit/edit",3,"listArray"]],template:function(i,e){i&1&&g(0,"app-list",0),i&2&&r("listArray",e.assignRankingToUnit)},dependencies:[$],encapsulation:2})};var k=class t extends X{checkedChange=new M;onToggle(n){this.value=n.target.checked,this.onChange(this.value),this.onTouched(),this.checkedChange.emit(this.value)}static \u0275fac=(()=>{let n;return function(e){return(n||(n=_(t)))(e||t)}})();static \u0275cmp=a({type:t,selectors:[["app-toggle-switch"]],outputs:{checkedChange:"checkedChange"},features:[S],decls:4,vars:5,consts:[[3,"label","focused","disabled","error"],[1,"switch"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"slider"]],template:function(i,e){i&1&&(m(0,"app-form-group",0)(1,"label",1)(2,"input",2),P("ngModelChange",function(p){return O(e.value,p)||(e.value=p),p}),d("change",function(p){return e.onToggle(p)}),l(),g(3,"span",3),l()()),i&2&&(r("label",e.label)("focused",e.focused)("disabled",e.disabled)("error",e.error),s(2),I("ngModel",e.value))},dependencies:[z,V,h,G,Y],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:52px;height:28px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-primary)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(24px);background-color:var(--color-on-primary)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{outline:2px solid var(--color-outline);outline-offset:2px}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--color-outline-variant);transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:20px;width:20px;left:4px;bottom:4px;background-color:var(--color-text-high);transition:.4s;border-radius:50%}']})};var u=class t{_fb=o(H);_unitService=o(nn);_route=o(F);_router=o(N);_assignRankingToUnitService=o(c);_questionService=o(tn);form=this._fb.group({name:["",f.required],unitId:["",f.required],questionnaireId:["",f.required],active:[!1]});isEditMode=!1;assignRankingToUnitId=null;units=[];questionnaires=[];constructor(){this._unitService.getAllUnits().subscribe(n=>this.units=n),this._questionService.getAllQuestionnaires().subscribe(n=>this.questionnaires=n),this._route.paramMap.subscribe(n=>{this.assignRankingToUnitId=n.get("id"),this.isEditMode=!!this.assignRankingToUnitId,this.assignRankingToUnitId&&this._assignRankingToUnitService.getAssignRankingToUnitById(this.assignRankingToUnitId).subscribe(i=>{i&&this.form.patchValue(i)})})}submit(){return U(this,null,function*(){this.form.invalid||(this.isEditMode&&this.assignRankingToUnitId?yield this._assignRankingToUnitService.updateAssignRankingToUnit(this.assignRankingToUnitId,this.form.value):yield this._assignRankingToUnitService.createAssignRankingToUnit(this.form.value),this._router.navigate(["/assign-ranking-to-unit"]))})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=a({type:t,selectors:[["app-assign-ranking-to-unit-form"]],decls:8,vars:5,consts:[[3,"ngSubmit","formGroup"],["label","Nome do vinculo","formControlName","name","name","name","placeholder","Nome do vinculo"],["label","Selecione a unidade","formControlName","unitId","name","unitId","placeholder","Selecione a unidade","labelKey","name","valueKey","id",3,"options"],["label","Selecione a o ranking","formControlName","questionnaireId","name","questionnaireId","placeholder","Selecione a o ranking","labelKey","name","valueKey","id",3,"options"],["label","Ativo?","formControlName","active"],["type","submit","label","Salvar",3,"disabled"]],template:function(i,e){i&1&&(m(0,"h1"),A(1),l(),m(2,"form",0),d("ngSubmit",function(){return e.submit()}),g(3,"app-input",1)(4,"app-select",2)(5,"app-select",3)(6,"app-toggle-switch",4)(7,"app-button",5),l()),i&2&&(s(),w(" ",e.isEditMode?"Editar vinculo de ranking":"Criar vinculo de ranking",`
`),s(),r("formGroup",e.form),s(2),r("options",e.units),s(),r("options",e.questionnaires),s(2),r("disabled",e.form.invalid))},dependencies:[J,K,h,j,Q,W,x,en,Z,k],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{color:var(--color-text-high)}[_nghost-%COMP%] > form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}"]})};var qn=[{path:"",component:v},{path:"create",component:u},{path:"edit/:id",component:u}];export{qn as ROUTES};

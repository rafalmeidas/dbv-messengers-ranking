import{g as l,i as m,j as i,k as q,l as c,m as n,q as r}from"./chunk-5HYU2PKZ.js";import{W as d,a as f,aa as p,b as Q,f as u}from"./chunk-LWKRYI56.js";var b=class o{firestore=p(l);getAllQuestionnaires(){let e=c(this.firestore,"questionnaires");return m(e,{idField:"id"})}getQuestionnaireById(e){let t=n(this.firestore,`questionnaires/${e}`);return i(t)}createQuestionnaire(e){let t=c(this.firestore,"questionnaires"),s=Q(f({},e),{questions:e.questions||[]});return q(t,s)}updateQuestionnaire(e,t){let s=n(this.firestore,`questionnaires/${e}`);return r(s,t)}addQuestion(e,t){return u(this,null,function*(){let s=n(this.firestore,`questionnaires/${e}`),a=[...(yield i(s).toPromise()).questions||[],t];return r(s,{questions:a})})}removeQuestion(e,t){return u(this,null,function*(){let s=n(this.firestore,`questionnaires/${e}`),a=((yield i(s).toPromise()).questions||[]).filter((y,h)=>h!==t);return r(s,{questions:a})})}static \u0275fac=function(t){return new(t||o)};static \u0275prov=d({token:o,factory:o.\u0275fac,providedIn:"root"})};export{b as a};
